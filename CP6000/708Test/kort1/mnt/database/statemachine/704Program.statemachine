STATEMACHINEVERSION 3
Name=Program
Link=workcell WorkCell
Value=usersection 0
Value=programidx 2
Value=loadfromleft 0
Value=loadfromright 0
Value=productsfromleft 0
Value=productsfromright 0
Value=casekind 0
Value=newprogram 1
Value=timeMotorInGoDown 0
Value=timeKlapDown 0
Value=noShakeOnLast 0
Value=waitInR3 0
Value=liftMilliTime 3000
Value=vibrateTime 8000000
Value=timeCall 5000000
;programmer
Value=program 0
;patterns
Value=manuelt 0
Value=pattern 0
; patternsconsts
Const=NULL 0
Const=15x1KG_PLAST 1
Const=6x3KG_PAPIR 2
Const=IFCO16_PATTERN 3
Const=8x2KG_PAPIR 4
Const=10x1K5G_PAPIR 5

; casekind = 0  -> none
; casekind = 1  -> C11
; casekind = 2  -> C14
; casekind = 3  -> C18
; casekind = 4  -> hybschA
; casekind = 5  -> hybschB
; casekind = 6  -> Netto/Palm
; casekind = 7  -> EPS610
; casekind = 8  -> IFCO16
; casekind = 9  -> IFCO18
; casekind = 10 -> IFCO20

; Put programstates in top

; also edit 'subPrograms' for example VendePattern and PushPattern for particular program

State=PROGRAM_STD1
	SET usersection 0
	SET newprogram 1
	SET loadfromleft 0
	SET loadfromright 0
	SET productsfromleft 0
	SET productsfromright 1
	SET casekind 3
	SET program 0  
	SET usersection 1 ; user editable below
	SET pattern 15x1KG_PLAST
	SET timeMotorInGoDown 0
	SET timeKlapDown 500000
	SET noShakeOnLast 0
	SET liftMilliTime 3000
	SET waitInR3 1
	SET vibrateTime 8000000
	SET timeCall 3000000
	SET manuelt 0
	SETSTATE ST_RUNNING_STD1
END

State=PROGRAM_NETTO3KG
	SET usersection 0
	SET newprogram 1
	SET loadfromleft 0
	SET loadfromright 0
	SET productsfromleft 0
	SET productsfromright 1
	SET casekind 6
	SET program 1 
	SET timeCall 5000000
	SET usersection 1 ; user editable below
	SET pattern 6x3KG_PAPIR
	SET timeMotorInGoDown 0
	SET timeKlapDown 300000
	SET noShakeOnLast 0
	SET liftMilliTime 15000
	SET waitInR3 0
	SET vibrateTime 5000000
	SET manuelt 0
	SETSTATE ST_RUNNING_NETTO3KG
END

State=PROGRAM_MANUAL
	SET usersection 0
	SET newprogram 1
	SET loadfromleft 0
	SET loadfromright 0
	SET productsfromleft 0
	SET productsfromright 1
	SET casekind 0
	SET program 2 
	SET timeCall 5000000
	SET usersection 1 ; user editable below
	SET pattern NULL
	SET timeMotorInGoDown 0
	SET timeKlapDown 300000
	SET noShakeOnLast 0
	SET liftMilliTime 15000
	SET waitInR3 0
	SET vibrateTime 5000000
	SET manuelt 1
	SETSTATE ST_RUNNING_MANUAL
END

State=PROGRAM_IFCO16
	SET usersection 0
	SET newprogram 1
	SET loadfromleft 0
	SET loadfromright 0
	SET productsfromleft 0
	SET productsfromright 1
	SET casekind 8
	SET program 3
	SET timeCall 5000000
	SET usersection 1 ; user editable below
	SET pattern IFCO16_PATTERN
	SET timeMotorInGoDown 0
	SET timeKlapDown 300000
	SET noShakeOnLast 0
	SET liftMilliTime 15000
	SET waitInR3 0
	SET vibrateTime 5000000
	SET manuelt 0
	SETSTATE ST_RUNNING_IFCO16
END

State=PROGRAM_NETTO2KG_PAPIR
	SET usersection 0
	SET newprogram 1
	SET loadfromleft 0
	SET loadfromright 0
	SET productsfromleft 0
	SET productsfromright 1
	SET casekind 6
	SET program 4
	SET timeCall 5000000
	SET usersection 1 ; user editable below
	SET pattern 8x2KG_PAPIR
	SET timeMotorInGoDown 0
	SET timeKlapDown 300000
	SET noShakeOnLast 0
	SET liftMilliTime 15000
	SET waitInR3 0
	SET vibrateTime 5000000
	SET manuelt 0
	SETSTATE ST_RUNNING_NETTO2KG_PAPIR
END

State=PROGRAM_NETTO1K5G_PAPIR
	SET usersection 0
	SET newprogram 1
	SET loadfromleft 0
	SET loadfromright 0
	SET productsfromleft 0
	SET productsfromright 1
	SET casekind 6
	SET program 5
	SET timeCall 5000000
	SET usersection 1 ; user editable below
	SET pattern 10x1K5G_PAPIR
	SET timeMotorInGoDown 0
	SET timeKlapDown 300000
	SET noShakeOnLast 0
	SET liftMilliTime 15000
	SET waitInR3 0
	SET vibrateTime 5000000
	SET manuelt 0
	SETSTATE ST_RUNNING_NETTO1K5G_PAPIR
END

State=ST_RUNNING_STD1
	SET newprogram 0
  TEST workcell = ST_IDLE
  OR workcell = ST_PAUSED
    TEST programidx != program
      SETSTATE ST_RESET
    ENDTEST
  ENDTEST
END

State=ST_RUNNING_NETTO3KG
	SET newprogram 0
  TEST workcell = ST_IDLE
  OR workcell = ST_PAUSED
    TEST programidx != program
      SETSTATE ST_RESET
    ENDTEST
  ENDTEST
END

State=ST_RUNNING_MANUAL
	SET newprogram 0
  TEST workcell = ST_IDLE
  OR workcell = ST_PAUSED
    TEST programidx != program
      SETSTATE ST_RESET
    ENDTEST
  ENDTEST
END

State=ST_RUNNING_IFCO16
	SET newprogram 0
  TEST workcell = ST_IDLE
  OR workcell = ST_PAUSED
    TEST programidx != program
      SETSTATE ST_RESET
    ENDTEST
  ENDTEST
END

State=ST_RUNNING_NETTO2KG_PAPIR
	SET newprogram 0
  TEST workcell = ST_IDLE
  OR workcell = ST_PAUSED
    TEST programidx != program
      SETSTATE ST_RESET
    ENDTEST
  ENDTEST
END

State=ST_RUNNING_NETTO1K5G_PAPIR
	SET newprogram 0
  TEST workcell = ST_IDLE
  OR workcell = ST_PAUSED
    TEST programidx != program
      SETSTATE ST_RESET
    ENDTEST
  ENDTEST
END

State=ST_TIMER
END

State=ST_HALT
END

State=ST_IDLE
	SETSTATE ST_RESET
END

State=ST_RESET
  TEST programidx = 0
    SETSTATE PROGRAM_STD1
  ENDTEST
  TEST programidx = 1
    SETSTATE PROGRAM_NETTO3KG
  ENDTEST
  TEST programidx = 2
    SETSTATE PROGRAM_MANUAL
  ENDTEST
  TEST programidx = 3
    SETSTATE PROGRAM_IFCO16
  ENDTEST
  TEST programidx = 4
		SETSTATE PROGRAM_NETTO2KG_PAPIR
	ENDTEST
  TEST programidx = 5
		SETSTATE PROGRAM_NETTO1K5G_PAPIR
	ENDTEST
END
