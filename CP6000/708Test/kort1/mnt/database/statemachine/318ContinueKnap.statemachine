STATEMACHINEVERSION 3
Name=ContinueKnap
Const=useKnap 1
Value=knap 0
Timeout=TimeoutDelay 2000000
Timeout=startDelay 0

State=ST_HALT
END

State=ST_TIMER
END

State=ST_IDLE
  TEST knap = 1
    TIMEOUT startDelay ST_HIGH
    SETSTATE ST_TIMER
  ENDTEST
END

State=ST_HIGH
  TIMEOUT TimeoutDelay ST_PRESSED
  SETSTATE ST_PRESSED
END

State=ST_PRESSED
  TEST TimeoutDelay = 1
    SETSTATE ST_LOW
  ENDTEST
END

State=ST_LOW
  SET knap 0
  SETSTATE ST_IDLE
END

State=ST_RESET
	SETSTATE ST_IDLE
END
