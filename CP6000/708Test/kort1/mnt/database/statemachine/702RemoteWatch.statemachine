STATEMACHINEVERSION 3
Name=RemoteWatch
Link=parent Parent
Link=myProgram Program
Link=CMProgram Program801
Value=errorCode 0
Value=message 0

State=ST_TIMER
END

State=ST_HALT
END

State=ST_IDLE
	TEST parent = ST_RESET
		SETSTATE ST_RESET
	ENDTEST
END

State=ST_RESET
	SET errorCode 0
	SET message 0
	SETSTATE ST_WATCH
END

State=ST_WATCH
	TEST CMProgram = UNKNOWN
		SET message 2052
  ELSE
    SET message 0
  ENDTEST
	TEST myProgram != ST_IDLE
	AND myProgram != ST_HALT
	AND myProgram != ST_RESET
    TEST CMProgram = ST_RUNNING_C18
      TEST myProgram != ST_RUNNING_C18
				SET errorCode 1071
				SETSTATE ST_IDLE
      ENDTEST 
    ELSE
      TEST CMProgram = ST_RUNNING_NETTO
        TEST myProgram != ST_RUNNING_NETTO
					SET errorCode 1071
					SETSTATE ST_IDLE
        ENDTEST 
      ENDTEST
    ENDTEST
  ENDTEST
  TEST parent = ST_IDLE
		SETSTATE ST_IDLE
	ENDTEST
END
