/* Auto-generated file. Data from Mathematica->Perl->C */


double taus[5];
void computetaus() {
	double cosq1 = cos(q[1]);
	double sinq1 = sin(q[1]);
	double cosq2 = cos(q[2]);
	double sinq2 = sin(q[2]);
	double cosq3 = cos(q[3]);
	double sinq3 = sin(q[3]);
	double cosq4 = cos(q[4]);
	double sinq4 = sin(q[4]);
	double cos2q4 = cos(2*q[4]);
	double sin2q4 = sin(2*q[4]);
	double cos123 = cos(q[1]+q[2]+q[3]);
	double sin123 = sin(q[1]+q[2]+q[3]);
	double cos12 = cos(q[1]+q[2]);
	double sin12 = sin(q[1]+q[2]);
	double cos23 = cos(q[2]+q[3]);
	double sin23 = sin(q[2]+q[3]);
	taus[0]=0.025*((Mfour + Mone + Mthree + Mtwo)*ddq[0] + Mfive*(ddq[0] - (dq[4])*(dq[4])*(cosq4*pdis[4][1] + pdis[4][0]*sinq4) + ddq[4]*(cosq4*pdis[4][0] - pdis[4][1]*sinq4)));
	taus[1]=(2*(L2)*(L2)*Mfive*ddq[1] + 2*(L3)*(L3)*Mfive*ddq[1] + 2*(L2)*(L2)*Mfour*ddq[1] + 2*(L3)*(L3)*Mfour*ddq[1] + 2*(L2)*(L2)*Mthree*ddq[1] + 4*L2*L3*Mfive*cosq2*ddq[1] + 4*L2*L3*Mfour*cosq2*ddq[1] + 2*(L3)*(L3)*Mfive*ddq[2] + 2*(L3)*(L3)*Mfour*ddq[2] + 2*L2*L3*Mfive*cosq2*ddq[2] + 2*L2*L3*Mfour*cosq2*ddq[2] + 2*ddq[1]*I2[2][2] + 2*ddq[1]*I3[2][2] + 2*ddq[2]*I3[2][2] + 2*ddq[1]*I4[2][2] + 2*ddq[2]*I4[2][2] + 2*ddq[3]*I4[2][2] + ddq[1]*I5[0][0] + ddq[2]*I5[0][0] + ddq[3]*I5[0][0] + ddq[1]*I5[1][1] + ddq[2]*I5[1][1] + ddq[3]*I5[1][1] + 2*Mtwo*ddq[1]*(pdis[1][0])*(pdis[1][0]) - 2*G*Mtwo*cosq1*pdis[1][1] + 2*Mtwo*ddq[1]*(pdis[1][1])*(pdis[1][1]) + 4*L2*Mthree*cosq2*ddq[1]*pdis[2][0] + 2*L2*Mthree*cosq2*ddq[2]*pdis[2][0] + 2*Mthree*ddq[1]*(pdis[2][0])*(pdis[2][0]) + 2*Mthree*ddq[2]*(pdis[2][0])*(pdis[2][0]) - 2*G*Mthree*cos12*pdis[2][1] - 4*L2*Mthree*cosq2*dq[1]*dq[2]*pdis[2][1] - 2*L2*Mthree*cosq2*(dq[2])*(dq[2])*pdis[2][1] + 2*Mthree*ddq[1]*(pdis[2][1])*(pdis[2][1]) + 2*Mthree*ddq[2]*(pdis[2][1])*(pdis[2][1]) - 2*G*Mfour*cos123*pdis[3][0] - 4*L2*Mfour*cos23*dq[1]*dq[2]*pdis[3][0] - 2*L2*Mfour*cos23*(dq[2])*(dq[2])*pdis[3][0] - 4*L3*Mfour*cosq3*dq[1]*dq[3]*pdis[3][0] - 4*L2*Mfour*cos23*dq[1]*dq[3]*pdis[3][0] - 4*L3*Mfour*cosq3*dq[2]*dq[3]*pdis[3][0] - 4*L2*Mfour*cos23*dq[2]*dq[3]*pdis[3][0] - 2*L3*Mfour*cosq3*(dq[3])*(dq[3])*pdis[3][0] - 2*L2*Mfour*cos23*(dq[3])*(dq[3])*pdis[3][0] + 2*Mfour*ddq[1]*(pdis[3][0])*(pdis[3][0]) + 2*Mfour*ddq[2]*(pdis[3][0])*(pdis[3][0]) + 2*Mfour*ddq[3]*(pdis[3][0])*(pdis[3][0]) - 4*L3*Mfour*cosq3*ddq[1]*pdis[3][1] - 4*L2*Mfour*cos23*ddq[1]*pdis[3][1] - 4*L3*Mfour*cosq3*ddq[2]*pdis[3][1] - 2*L2*Mfour*cos23*ddq[2]*pdis[3][1] - 2*L3*Mfour*cosq3*ddq[3]*pdis[3][1] - 2*L2*Mfour*cos23*ddq[3]*pdis[3][1] + 2*Mfour*ddq[1]*(pdis[3][1])*(pdis[3][1]) + 2*Mfour*ddq[2]*(pdis[3][1])*(pdis[3][1]) + 2*Mfour*ddq[3]*(pdis[3][1])*(pdis[3][1]) + Mfive*ddq[1]*(pdis[4][0])*(pdis[4][0]) + Mfive*ddq[2]*(pdis[4][0])*(pdis[4][0]) + Mfive*ddq[3]*(pdis[4][0])*(pdis[4][0]) + Mfive*ddq[1]*(pdis[4][1])*(pdis[4][1]) + Mfive*ddq[2]*(pdis[4][1])*(pdis[4][1]) + Mfive*ddq[3]*(pdis[4][1])*(pdis[4][1]) + cos2q4*(2*dq[3]*dq[4]*I5[0][1] + 2*dq[3]*dq[4]*I5[1][0] - (ddq[1] + ddq[2] + ddq[3])*(I5[0][0] - I5[1][1]) + Mfive*ddq[1]*(pdis[4][0])*(pdis[4][0]) + Mfive*ddq[2]*(pdis[4][0])*(pdis[4][0]) - 4*Mfive*dq[3]*dq[4]*pdis[4][0]*pdis[4][1] - Mfive*ddq[1]*(pdis[4][1])*(pdis[4][1]) - Mfive*ddq[2]*(pdis[4][1])*(pdis[4][1]) + 2*dq[1]*dq[4]*(I5[0][1] + I5[1][0] - 2*Mfive*pdis[4][0]*pdis[4][1]) + 2*dq[2]*dq[4]*(I5[0][1] + I5[1][0] - 2*Mfive*pdis[4][0]*pdis[4][1]) + Mfive*ddq[3]*((pdis[4][0])*(pdis[4][0]) - (pdis[4][1])*(pdis[4][1]))) + 4*L3*Mfive*cosq3*ddq[1]*pdis[4][2] + 4*L2*Mfive*cos23*ddq[1]*pdis[4][2] + 4*L3*Mfive*cosq3*ddq[2]*pdis[4][2] + 2*L2*Mfive*cos23*ddq[2]*pdis[4][2] + 2*L3*Mfive*cosq3*ddq[3]*pdis[4][2] + 2*L2*Mfive*cos23*ddq[3]*pdis[4][2] + 2*Mfive*ddq[1]*(pdis[4][2])*(pdis[4][2]) + 2*Mfive*ddq[2]*(pdis[4][2])*(pdis[4][2]) + 2*Mfive*ddq[3]*(pdis[4][2])*(pdis[4][2]) - 2*G*L2*Mfive*sinq1 - 2*G*L2*Mfour*sinq1 - 2*G*L2*Mthree*sinq1 - 2*G*Mtwo*pdis[1][0]*sinq1 - 4*L2*L3*Mfive*dq[1]*dq[2]*sinq2 - 4*L2*L3*Mfour*dq[1]*dq[2]*sinq2 - 2*L2*L3*Mfive*(dq[2])*(dq[2])*sinq2 - 2*L2*L3*Mfour*(dq[2])*(dq[2])*sinq2 - 4*L2*Mthree*dq[1]*dq[2]*pdis[2][0]*sinq2 - 2*L2*Mthree*(dq[2])*(dq[2])*pdis[2][0]*sinq2 - 4*L2*Mthree*ddq[1]*pdis[2][1]*sinq2 - 2*L2*Mthree*ddq[2]*pdis[2][1]*sinq2 - 2*G*L3*Mfive*sin12 - 2*G*L3*Mfour*sin12 - 2*G*Mthree*pdis[2][0]*sin12 - 4*L3*Mfour*ddq[1]*pdis[3][0]*sinq3 - 4*L3*Mfour*ddq[2]*pdis[3][0]*sinq3 - 2*L3*Mfour*ddq[3]*pdis[3][0]*sinq3 + 4*L3*Mfour*dq[1]*dq[3]*pdis[3][1]*sinq3 + 4*L3*Mfour*dq[2]*dq[3]*pdis[3][1]*sinq3 + 2*L3*Mfour*(dq[3])*(dq[3])*pdis[3][1]*sinq3 - 4*L3*Mfive*dq[1]*dq[3]*pdis[4][2]*sinq3 - 4*L3*Mfive*dq[2]*dq[3]*pdis[4][2]*sinq3 - 2*L3*Mfive*(dq[3])*(dq[3])*pdis[4][2]*sinq3 - 4*L2*Mfour*ddq[1]*pdis[3][0]*sin23 - 2*L2*Mfour*ddq[2]*pdis[3][0]*sin23 - 2*L2*Mfour*ddq[3]*pdis[3][0]*sin23 + 4*L2*Mfour*dq[1]*dq[2]*pdis[3][1]*sin23 + 2*L2*Mfour*(dq[2])*(dq[2])*pdis[3][1]*sin23 + 4*L2*Mfour*dq[1]*dq[3]*pdis[3][1]*sin23 + 4*L2*Mfour*dq[2]*dq[3]*pdis[3][1]*sin23 + 2*L2*Mfour*(dq[3])*(dq[3])*pdis[3][1]*sin23 - 4*L2*Mfive*dq[1]*dq[2]*pdis[4][2]*sin23 - 2*L2*Mfive*(dq[2])*(dq[2])*pdis[4][2]*sin23 - 4*L2*Mfive*dq[1]*dq[3]*pdis[4][2]*sin23 - 4*L2*Mfive*dq[2]*dq[3]*pdis[4][2]*sin23 - 2*L2*Mfive*(dq[3])*(dq[3])*pdis[4][2]*sin23 + 2*cosq4*((dq[4])*(dq[4])*I5[0][2] + ddq[4]*I5[1][2] + Mfive*((-(G*cos123) - L2*cos23*(dq[2] + dq[3])*(2*dq[1] + dq[2] + dq[3]) - L3*cosq3*dq[3]*(2*(dq[1] + dq[2]) + dq[3]))*pdis[4][0] - (dq[4])*(dq[4])*pdis[4][0]*(L3*cosq3 + L2*cos23 + pdis[4][2]) - ddq[4]*pdis[4][1]*(L3*cosq3 + L2*cos23 + pdis[4][2]) - 2*ddq[1]*pdis[4][0]*(L3*sinq3 + L2*sin23) - ddq[3]*pdis[4][0]*(L3*sinq3 + L2*sin23) + 2*(dq[1] + dq[2] + dq[3])*dq[4]*pdis[4][1]*(L3*sinq3 + L2*sin23) - ddq[2]*pdis[4][0]*(2*L3*sinq3 + L2*sin23))) + 2*G*Mfour*pdis[3][1]*sin123 - 2*G*Mfive*pdis[4][2]*sin123 + 2*(ddq[4]*I5[0][2] - (dq[4])*(dq[4])*I5[1][2] + Mfive*(-(ddq[4]*pdis[4][0]*pdis[4][2]) + pdis[4][1]*(G*cos123 + (dq[4])*(dq[4])*pdis[4][2]) + L3*(cosq3*(-(ddq[4]*pdis[4][0]) + (dq[3]*(2*(dq[1] + dq[2]) + dq[3]) + (dq[4])*(dq[4]))*pdis[4][1]) + (2*(dq[1] + dq[2] + dq[3])*dq[4]*pdis[4][0] + (2*(ddq[1] + ddq[2]) + ddq[3])*pdis[4][1])*sinq3) + L2*(-(cos23*ddq[4]*pdis[4][0]) + cos23*(dq[2])*(dq[2])*pdis[4][1] + cos23*(dq[3])*(dq[3])*pdis[4][1] + cos23*(dq[4])*(dq[4])*pdis[4][1] + 2*dq[3]*dq[4]*pdis[4][0]*sin23 + 2*ddq[1]*pdis[4][1]*sin23 + ddq[2]*pdis[4][1]*sin23 + ddq[3]*pdis[4][1]*sin23 + 2*dq[2]*(cos23*dq[3]*pdis[4][1] + dq[4]*pdis[4][0]*sin23) + 2*dq[1]*(cos23*(dq[2] + dq[3])*pdis[4][1] + dq[4]*pdis[4][0]*sin23))))*sinq4 + ((ddq[1] + ddq[2] + ddq[3])*(I5[0][1] + I5[1][0]) + 2*dq[1]*dq[4]*(I5[0][0] - I5[1][1] + Mfive*(-(pdis[4][0])*(pdis[4][0]) + (pdis[4][1])*(pdis[4][1]))) + 2*dq[2]*dq[4]*(I5[0][0] - I5[1][1] + Mfive*(-(pdis[4][0])*(pdis[4][0]) + (pdis[4][1])*(pdis[4][1]))) + 2*(-(Mfive*(ddq[1] + ddq[2] + ddq[3])*pdis[4][0]*pdis[4][1]) + dq[3]*dq[4]*(I5[0][0] - I5[1][1] + Mfive*(-(pdis[4][0])*(pdis[4][0]) + (pdis[4][1])*(pdis[4][1])))))*sin2q4)/2.;
	taus[2]=(2*(L3)*(L3)*Mfive*ddq[1] + 2*(L3)*(L3)*Mfour*ddq[1] + 2*L2*L3*Mfive*cosq2*ddq[1] + 2*L2*L3*Mfour*cosq2*ddq[1] + 2*(L3)*(L3)*Mfive*ddq[2] + 2*(L3)*(L3)*Mfour*ddq[2] + 2*ddq[1]*I3[2][2] + 2*ddq[2]*I3[2][2] + 2*ddq[1]*I4[2][2] + 2*ddq[2]*I4[2][2] + 2*ddq[3]*I4[2][2] + ddq[1]*I5[0][0] + ddq[2]*I5[0][0] + ddq[3]*I5[0][0] + ddq[1]*I5[1][1] + ddq[2]*I5[1][1] + ddq[3]*I5[1][1] + 2*L2*Mthree*cosq2*ddq[1]*pdis[2][0] + 2*Mthree*ddq[1]*(pdis[2][0])*(pdis[2][0]) + 2*Mthree*ddq[2]*(pdis[2][0])*(pdis[2][0]) - 2*G*Mthree*cos12*pdis[2][1] + 2*L2*Mthree*cosq2*(dq[1])*(dq[1])*pdis[2][1] + 2*Mthree*ddq[1]*(pdis[2][1])*(pdis[2][1]) + 2*Mthree*ddq[2]*(pdis[2][1])*(pdis[2][1]) - 2*G*Mfour*cos123*pdis[3][0] + 2*L2*Mfour*cos23*(dq[1])*(dq[1])*pdis[3][0] - 4*L3*Mfour*cosq3*dq[1]*dq[3]*pdis[3][0] - 4*L3*Mfour*cosq3*dq[2]*dq[3]*pdis[3][0] - 2*L3*Mfour*cosq3*(dq[3])*(dq[3])*pdis[3][0] + 2*Mfour*ddq[1]*(pdis[3][0])*(pdis[3][0]) + 2*Mfour*ddq[2]*(pdis[3][0])*(pdis[3][0]) + 2*Mfour*ddq[3]*(pdis[3][0])*(pdis[3][0]) - 4*L3*Mfour*cosq3*ddq[1]*pdis[3][1] - 2*L2*Mfour*cos23*ddq[1]*pdis[3][1] - 4*L3*Mfour*cosq3*ddq[2]*pdis[3][1] - 2*L3*Mfour*cosq3*ddq[3]*pdis[3][1] + 2*Mfour*ddq[1]*(pdis[3][1])*(pdis[3][1]) + 2*Mfour*ddq[2]*(pdis[3][1])*(pdis[3][1]) + 2*Mfour*ddq[3]*(pdis[3][1])*(pdis[3][1]) + Mfive*ddq[1]*(pdis[4][0])*(pdis[4][0]) + Mfive*ddq[2]*(pdis[4][0])*(pdis[4][0]) + Mfive*ddq[3]*(pdis[4][0])*(pdis[4][0]) + Mfive*ddq[1]*(pdis[4][1])*(pdis[4][1]) + Mfive*ddq[2]*(pdis[4][1])*(pdis[4][1]) + Mfive*ddq[3]*(pdis[4][1])*(pdis[4][1]) + cos2q4*(2*dq[3]*dq[4]*I5[0][1] + 2*dq[3]*dq[4]*I5[1][0] - (ddq[1] + ddq[2] + ddq[3])*(I5[0][0] - I5[1][1]) + Mfive*ddq[1]*(pdis[4][0])*(pdis[4][0]) + Mfive*ddq[2]*(pdis[4][0])*(pdis[4][0]) - 4*Mfive*dq[3]*dq[4]*pdis[4][0]*pdis[4][1] - Mfive*ddq[1]*(pdis[4][1])*(pdis[4][1]) - Mfive*ddq[2]*(pdis[4][1])*(pdis[4][1]) + 2*dq[1]*dq[4]*(I5[0][1] + I5[1][0] - 2*Mfive*pdis[4][0]*pdis[4][1]) + 2*dq[2]*dq[4]*(I5[0][1] + I5[1][0] - 2*Mfive*pdis[4][0]*pdis[4][1]) + Mfive*ddq[3]*((pdis[4][0])*(pdis[4][0]) - (pdis[4][1])*(pdis[4][1]))) + 4*L3*Mfive*cosq3*ddq[1]*pdis[4][2] + 2*L2*Mfive*cos23*ddq[1]*pdis[4][2] + 4*L3*Mfive*cosq3*ddq[2]*pdis[4][2] + 2*L3*Mfive*cosq3*ddq[3]*pdis[4][2] + 2*Mfive*ddq[1]*(pdis[4][2])*(pdis[4][2]) + 2*Mfive*ddq[2]*(pdis[4][2])*(pdis[4][2]) + 2*Mfive*ddq[3]*(pdis[4][2])*(pdis[4][2]) + 2*L2*L3*Mfive*(dq[1])*(dq[1])*sinq2 + 2*L2*L3*Mfour*(dq[1])*(dq[1])*sinq2 + 2*L2*Mthree*(dq[1])*(dq[1])*pdis[2][0]*sinq2 - 2*L2*Mthree*ddq[1]*pdis[2][1]*sinq2 - 2*G*L3*Mfive*sin12 - 2*G*L3*Mfour*sin12 - 2*G*Mthree*pdis[2][0]*sin12 - 4*L3*Mfour*ddq[1]*pdis[3][0]*sinq3 - 4*L3*Mfour*ddq[2]*pdis[3][0]*sinq3 - 2*L3*Mfour*ddq[3]*pdis[3][0]*sinq3 + 4*L3*Mfour*dq[1]*dq[3]*pdis[3][1]*sinq3 + 4*L3*Mfour*dq[2]*dq[3]*pdis[3][1]*sinq3 + 2*L3*Mfour*(dq[3])*(dq[3])*pdis[3][1]*sinq3 - 4*L3*Mfive*dq[1]*dq[3]*pdis[4][2]*sinq3 - 4*L3*Mfive*dq[2]*dq[3]*pdis[4][2]*sinq3 - 2*L3*Mfive*(dq[3])*(dq[3])*pdis[4][2]*sinq3 - 2*L2*Mfour*ddq[1]*pdis[3][0]*sin23 - 2*L2*Mfour*(dq[1])*(dq[1])*pdis[3][1]*sin23 + 2*L2*Mfive*(dq[1])*(dq[1])*pdis[4][2]*sin23 + 2*cosq4*((dq[4])*(dq[4])*I5[0][2] + ddq[4]*(I5[1][2] - Mfive*pdis[4][1]*(L3*cosq3 + pdis[4][2])) + Mfive*(-(pdis[4][0]*(G*cos123 + (dq[4])*(dq[4])*pdis[4][2])) + L3*(-(cosq3*(dq[3]*(2*(dq[1] + dq[2]) + dq[3]) + (dq[4])*(dq[4]))*pdis[4][0]) + (-((2*(ddq[1] + ddq[2]) + ddq[3])*pdis[4][0]) + 2*(dq[1] + dq[2] + dq[3])*dq[4]*pdis[4][1])*sinq3) + L2*pdis[4][0]*(cos23*(dq[1])*(dq[1]) - ddq[1]*sin23))) + 2*G*Mfour*pdis[3][1]*sin123 - 2*G*Mfive*pdis[4][2]*sin123 + 2*(ddq[4]*I5[0][2] - (dq[4])*(dq[4])*I5[1][2] + Mfive*(-(ddq[4]*pdis[4][0]*pdis[4][2]) + pdis[4][1]*(G*cos123 + (dq[4])*(dq[4])*pdis[4][2]) + L3*(cosq3*(-(ddq[4]*pdis[4][0]) + (dq[3]*(2*(dq[1] + dq[2]) + dq[3]) + (dq[4])*(dq[4]))*pdis[4][1]) + (2*(dq[1] + dq[2] + dq[3])*dq[4]*pdis[4][0] + (2*(ddq[1] + ddq[2]) + ddq[3])*pdis[4][1])*sinq3) + L2*pdis[4][1]*(-(cos23*(dq[1])*(dq[1])) + ddq[1]*sin23)))*sinq4 + ((ddq[1] + ddq[2] + ddq[3])*(I5[0][1] + I5[1][0]) + 2*dq[1]*dq[4]*(I5[0][0] - I5[1][1] + Mfive*(-(pdis[4][0])*(pdis[4][0]) + (pdis[4][1])*(pdis[4][1]))) + 2*dq[2]*dq[4]*(I5[0][0] - I5[1][1] + Mfive*(-(pdis[4][0])*(pdis[4][0]) + (pdis[4][1])*(pdis[4][1]))) + 2*(-(Mfive*(ddq[1] + ddq[2] + ddq[3])*pdis[4][0]*pdis[4][1]) + dq[3]*dq[4]*(I5[0][0] - I5[1][1] + Mfive*(-(pdis[4][0])*(pdis[4][0]) + (pdis[4][1])*(pdis[4][1])))))*sin2q4)/2.;
	taus[3]=(2*(ddq[1] + ddq[2] + ddq[3])*I4[2][2] + ddq[1]*I5[0][0] - cos2q4*ddq[1]*I5[0][0] + ddq[2]*I5[0][0] - cos2q4*ddq[2]*I5[0][0] + ddq[3]*I5[0][0] - cos2q4*ddq[3]*I5[0][0] + 2*cos2q4*dq[1]*dq[4]*I5[0][1] + 2*cos2q4*dq[2]*dq[4]*I5[0][1] + 2*cos2q4*dq[3]*dq[4]*I5[0][1] + 2*cosq4*(dq[4])*(dq[4])*I5[0][2] + 2*cos2q4*dq[1]*dq[4]*I5[1][0] + 2*cos2q4*dq[2]*dq[4]*I5[1][0] + 2*cos2q4*dq[3]*dq[4]*I5[1][0] + ddq[1]*I5[1][1] + cos2q4*ddq[1]*I5[1][1] + ddq[2]*I5[1][1] + cos2q4*ddq[2]*I5[1][1] + ddq[3]*I5[1][1] + cos2q4*ddq[3]*I5[1][1] + 2*Mfour*(-(G*cos123*pdis[3][0]) + (ddq[1] + ddq[2] + ddq[3])*((pdis[3][0])*(pdis[3][0]) + (pdis[3][1])*(pdis[3][1])) + L3*(cosq3*((dq[1] + dq[2])*(dq[1] + dq[2])*pdis[3][0] - (ddq[1] + ddq[2])*pdis[3][1]) - ((ddq[1] + ddq[2])*pdis[3][0] + (dq[1] + dq[2])*(dq[1] + dq[2])*pdis[3][1])*sinq3) + L2*(-(ddq[1]*(cos23*pdis[3][1] + pdis[3][0]*sin23)) + (dq[1])*(dq[1])*(cos23*pdis[3][0] - pdis[3][1]*sin23)) + G*pdis[3][1]*sin123) - 2*(dq[4])*(dq[4])*I5[1][2]*sinq4 + 2*ddq[4]*(cosq4*I5[1][2] + I5[0][2]*sinq4) + 2*dq[1]*dq[4]*I5[0][0]*sin2q4 + 2*dq[2]*dq[4]*I5[0][0]*sin2q4 + 2*dq[3]*dq[4]*I5[0][0]*sin2q4 + ddq[1]*I5[0][1]*sin2q4 + ddq[2]*I5[0][1]*sin2q4 + ddq[3]*I5[0][1]*sin2q4 + ddq[1]*I5[1][0]*sin2q4 + ddq[2]*I5[1][0]*sin2q4 + ddq[3]*I5[1][0]*sin2q4 - 2*dq[1]*dq[4]*I5[1][1]*sin2q4 - 2*dq[2]*dq[4]*I5[1][1]*sin2q4 - 2*dq[3]*dq[4]*I5[1][1]*sin2q4 + Mfive*(ddq[1]*(pdis[4][0])*(pdis[4][0]) + ddq[2]*(pdis[4][0])*(pdis[4][0]) + ddq[3]*(pdis[4][0])*(pdis[4][0]) + ddq[1]*(pdis[4][1])*(pdis[4][1]) + ddq[2]*(pdis[4][1])*(pdis[4][1]) + ddq[3]*(pdis[4][1])*(pdis[4][1]) + cos2q4*(ddq[1]*(pdis[4][0])*(pdis[4][0]) + ddq[2]*(pdis[4][0])*(pdis[4][0]) - 4*dq[1]*dq[4]*pdis[4][0]*pdis[4][1] - 4*dq[2]*dq[4]*pdis[4][0]*pdis[4][1] - 4*dq[3]*dq[4]*pdis[4][0]*pdis[4][1] - ddq[1]*(pdis[4][1])*(pdis[4][1]) - ddq[2]*(pdis[4][1])*(pdis[4][1]) + ddq[3]*((pdis[4][0])*(pdis[4][0]) - (pdis[4][1])*(pdis[4][1]))) + 2*L3*cosq3*ddq[1]*pdis[4][2] + 2*L2*cos23*ddq[1]*pdis[4][2] + 2*L3*cosq3*ddq[2]*pdis[4][2] + 2*ddq[1]*(pdis[4][2])*(pdis[4][2]) + 2*ddq[2]*(pdis[4][2])*(pdis[4][2]) + 2*ddq[3]*(pdis[4][2])*(pdis[4][2]) + 2*L3*(dq[1])*(dq[1])*pdis[4][2]*sinq3 + 4*L3*dq[1]*dq[2]*pdis[4][2]*sinq3 + 2*L3*(dq[2])*(dq[2])*pdis[4][2]*sinq3 + 2*L2*(dq[1])*(dq[1])*pdis[4][2]*sin23 + 2*cosq4*(-(ddq[4]*pdis[4][1]*pdis[4][2]) - pdis[4][0]*(G*cos123 + (dq[4])*(dq[4])*pdis[4][2] + L3*(-(cosq3*(dq[1] + dq[2])*(dq[1] + dq[2])) + (ddq[1] + ddq[2])*sinq3) + L2*(-(cos23*(dq[1])*(dq[1])) + ddq[1]*sin23))) - 2*G*pdis[4][2]*sin123 + 2*(-(ddq[4]*pdis[4][0]*pdis[4][2]) + pdis[4][1]*(G*cos123 + (dq[4])*(dq[4])*pdis[4][2] + L3*(-(cosq3*(dq[1] + dq[2])*(dq[1] + dq[2])) + (ddq[1] + ddq[2])*sinq3) + L2*(-(cos23*(dq[1])*(dq[1])) + ddq[1]*sin23)))*sinq4 - 2*(dq[3]*dq[4]*(pdis[4][0])*(pdis[4][0]) + ddq[1]*pdis[4][0]*pdis[4][1] + ddq[2]*pdis[4][0]*pdis[4][1] + ddq[3]*pdis[4][0]*pdis[4][1] - dq[3]*dq[4]*(pdis[4][1])*(pdis[4][1]) + dq[1]*dq[4]*((pdis[4][0])*(pdis[4][0]) - (pdis[4][1])*(pdis[4][1])) + dq[2]*dq[4]*((pdis[4][0])*(pdis[4][0]) - (pdis[4][1])*(pdis[4][1])))*sin2q4))/2.;
	taus[4]=-((cosq4)*(cosq4)*(dq[2])*(dq[2])*I5[0][1]) - 2*(cosq4)*(cosq4)*dq[2]*dq[3]*I5[0][1] - (cosq4)*(cosq4)*(dq[3])*(dq[3])*I5[0][1] - cosq4*dq[2]*dq[4]*I5[0][2] - cosq4*dq[3]*dq[4]*I5[0][2] + cosq4*dq[2]*dq[4]*I5[2][0] + cosq4*dq[3]*dq[4]*I5[2][0] + cosq4*ddq[1]*I5[2][1] + cosq4*ddq[2]*I5[2][1] + cosq4*ddq[3]*I5[2][1] + ddq[4]*I5[2][2] + cosq4*(dq[2])*(dq[2])*I5[1][1]*sinq4 + cosq4*(dq[3])*(dq[3])*I5[1][1]*sinq4 + dq[2]*dq[4]*I5[1][2]*sinq4 + dq[3]*dq[4]*I5[1][2]*sinq4 + ddq[1]*I5[2][0]*sinq4 + ddq[2]*I5[2][0]*sinq4 + ddq[3]*I5[2][0]*sinq4 - dq[2]*dq[4]*I5[2][1]*sinq4 - dq[3]*dq[4]*I5[2][1]*sinq4 + (dq[2])*(dq[2])*I5[1][0]*(sinq4)*(sinq4) + 2*dq[2]*dq[3]*I5[1][0]*(sinq4)*(sinq4) + (dq[3])*(dq[3])*I5[1][0]*(sinq4)*(sinq4) - ((dq[2])*(dq[2])*I5[0][0]*sin2q4)/2. - dq[2]*dq[3]*I5[0][0]*sin2q4 - ((dq[3])*(dq[3])*I5[0][0]*sin2q4)/2. + dq[2]*dq[3]*I5[1][1]*sin2q4 + (dq[1])*(dq[1])*(-((cosq4)*(cosq4)*I5[0][1]) + cosq4*I5[1][1]*sinq4 + I5[1][0]*(sinq4)*(sinq4) - (I5[0][0]*sin2q4)/2.) + (Mfive*(2*cos2q4*(dq[1] + dq[2] + dq[3])*(dq[1] + dq[2] + dq[3])*pdis[4][0]*pdis[4][1] + 2*ddq[4]*((pdis[4][0])*(pdis[4][0]) + (pdis[4][1])*(pdis[4][1])) - 2*cosq4*(-(ddq[0]*pdis[4][0]) + pdis[4][1]*((ddq[1] + ddq[2] + ddq[3])*pdis[4][2] + L3*(cosq3*(ddq[1] + ddq[2]) + (dq[1] + dq[2])*(dq[1] + dq[2])*sinq3) + L2*(cos23*ddq[1] + (dq[1])*(dq[1])*sin23)) - G*pdis[4][1]*sin123) - 2*(ddq[0]*pdis[4][1] + pdis[4][0]*((ddq[1] + ddq[2] + ddq[3])*pdis[4][2] + L3*(cosq3*(ddq[1] + ddq[2]) + (dq[1] + dq[2])*(dq[1] + dq[2])*sinq3) + L2*(cos23*ddq[1] + (dq[1])*(dq[1])*sin23)) - G*pdis[4][0]*sin123)*sinq4 + (dq[1] + dq[2] + dq[3])*(dq[1] + dq[2] + dq[3])*((pdis[4][0])*(pdis[4][0]) - (pdis[4][1])*(pdis[4][1]))*sin2q4))/2. + dq[1]*(dq[4]*(cosq4*(-I5[0][2] + I5[2][0]) + (I5[1][2] - I5[2][1])*sinq4) + (dq[2] + dq[3])*(-2*(cosq4)*(cosq4)*I5[0][1] + 2*I5[1][0]*(sinq4)*(sinq4) + (-I5[0][0] + I5[1][1])*sin2q4));
}

#include "fric.c"

double sgn(double a) {
  if (a<-0.00001) 
		return -1;
  else if (a>0.00001)
		return 1;
	else 
		return 0;
}

double tau(int n) {
	return taus[n]+sgn(dq[n])*(fric[n][0]*exp(-fabs(dq[n]/fric[n][1]))+fric[n][2]+fabs(dq[n])*fric[n][3])+fric[n][4]*ddq[n];
}
