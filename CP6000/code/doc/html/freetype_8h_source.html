<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Robostacker: C:/sandbox/sandbox/Bx/freetype.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>C:/sandbox/sandbox/Bx/freetype.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*******************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> *  freetype.h</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> *    High-level interface specification.</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> *  Copyright 1996-1998 by</span>
<a name="l00008"></a>00008 <span class="comment"> *  David Turner, Robert Wilhelm, and Werner Lemberg.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> *  This file is part of the FreeType project and may only be used,</span>
<a name="l00011"></a>00011 <span class="comment"> *  modified, and distributed under the terms of the FreeType project</span>
<a name="l00012"></a>00012 <span class="comment"> *  license, LICENSE.TXT.  By continuing to use, modify, or distribute </span>
<a name="l00013"></a>00013 <span class="comment"> *  this file you indicate that you have read the license and</span>
<a name="l00014"></a>00014 <span class="comment"> *  understand and accept it fully.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> *  Notes:</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> *    This is the only file that should be included by client            </span>
<a name="l00019"></a>00019 <span class="comment"> *    application sources for the final release.  All other types</span>
<a name="l00020"></a>00020 <span class="comment"> *    and functions defined in the "tt*.h" files are library  </span>
<a name="l00021"></a>00021 <span class="comment"> *    internals, and should not be included (except of course</span>
<a name="l00022"></a>00022 <span class="comment"> *    during development, as now).</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> *    FreeType is still in beta!</span>
<a name="l00025"></a>00025 <span class="comment"> *</span>
<a name="l00026"></a>00026 <span class="comment"> ******************************************************************/</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#ifndef _FREETYPE_</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#define _FREETYPE_</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>  <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00033"></a>00033 <span class="preprocessor">#endif</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036   <span class="comment">/*******************************************************************/</span>
<a name="l00037"></a>00037   <span class="comment">/*                                                                 */</span>
<a name="l00038"></a>00038   <span class="comment">/*  FreeType types definitions.                                    */</span>
<a name="l00039"></a>00039   <span class="comment">/*                                                                 */</span>
<a name="l00040"></a>00040   <span class="comment">/*  All these begin with a 'TT_' prefix.                           */</span>
<a name="l00041"></a>00041   <span class="comment">/*                                                                 */</span>
<a name="l00042"></a>00042   <span class="comment">/*******************************************************************/</span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044   <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">long</span>     TT_Fixed;   <span class="comment">/* Signed Fixed 16.16 Float */</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046   <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">short</span>    TT_FWord;   <span class="comment">/* Distance in FUnits */</span>
<a name="l00047"></a>00047   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  TT_UFWord;  <span class="comment">/* Unsigned distance */</span>
<a name="l00048"></a>00048 
<a name="l00049"></a>00049   <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">short</span>    TT_Short;
<a name="l00050"></a>00050   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  TT_UShort;
<a name="l00051"></a>00051   <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">long</span>     TT_Long;
<a name="l00052"></a>00052   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   TT_ULong;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054   <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">short</span>    TT_F2Dot14; <span class="comment">/* Signed fixed float 2.14 used for */</span>
<a name="l00055"></a>00055                                       <span class="comment">/* unary vectors, with layout:      */</span>
<a name="l00056"></a>00056                                       <span class="comment">/*                                  */</span>
<a name="l00057"></a>00057                                       <span class="comment">/*  s : 1  -- sign bit              */</span>
<a name="l00058"></a>00058                                       <span class="comment">/*  m : 1  -- mantissa bit          */</span>
<a name="l00059"></a>00059                                       <span class="comment">/*  f : 14 -- unsigned fractional   */</span>
<a name="l00060"></a>00060                                       <span class="comment">/*                                  */</span>
<a name="l00061"></a>00061                                       <span class="comment">/*  's:m' is the 2-bit signed int   */</span>
<a name="l00062"></a>00062                                       <span class="comment">/*  value to which the positive     */</span>
<a name="l00063"></a>00063                                       <span class="comment">/*  fractional part should be       */</span>
<a name="l00064"></a>00064                                       <span class="comment">/*  added.                          */</span>
<a name="l00065"></a>00065                                       <span class="comment">/*                                  */</span>
<a name="l00066"></a>00066 
<a name="l00067"></a>00067   <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">long</span>     TT_F26Dot6; <span class="comment">/* 26.6 fixed float, used for       */</span>
<a name="l00068"></a>00068                                       <span class="comment">/* glyph points pixel coordinates.  */</span>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070   <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">long</span>     TT_Pos;     <span class="comment">/* point position, expressed either */</span>
<a name="l00071"></a>00071                                       <span class="comment">/* in fractional pixels or notional */</span>
<a name="l00072"></a>00072                                       <span class="comment">/* units, depending on context. For */</span>
<a name="l00073"></a>00073                                       <span class="comment">/* example, glyph coordinates       */</span>
<a name="l00074"></a>00074                                       <span class="comment">/* returned by TT_Load_Glyph are    */</span>
<a name="l00075"></a>00075                                       <span class="comment">/* expressed in font units when     */</span>
<a name="l00076"></a>00076                                       <span class="comment">/* scaling wasn't requested, and    */</span>
<a name="l00077"></a>00077                                       <span class="comment">/* in 26.6 fractional pixels if it  */</span>
<a name="l00078"></a>00078                                       <span class="comment">/* was                              */</span>
<a name="l00079"></a>00079                                       <span class="comment">/*                                  */</span>
<a name="l00080"></a>00080 
<a name="l00081"></a>00081   <span class="keyword">struct  </span>_TT_UnitVector      <span class="comment">/* guess what...  */</span>
<a name="l00082"></a>00082   { 
<a name="l00083"></a>00083     TT_F2Dot14  x;
<a name="l00084"></a>00084     TT_F2Dot14  y;
<a name="l00085"></a>00085   };
<a name="l00086"></a>00086 
<a name="l00087"></a>00087   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_UnitVector  TT_UnitVector;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 
<a name="l00090"></a>00090   <span class="keyword">struct  </span>_TT_Vector          <span class="comment">/* Simple vector type */</span>
<a name="l00091"></a>00091   {
<a name="l00092"></a>00092     TT_F26Dot6  x;
<a name="l00093"></a>00093     TT_F26Dot6  y;
<a name="l00094"></a>00094   };
<a name="l00095"></a>00095 
<a name="l00096"></a>00096   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Vector  TT_Vector;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 
<a name="l00099"></a>00099   <span class="comment">/* A simple 2x2 matrix used for transformations. */</span>
<a name="l00100"></a>00100   <span class="comment">/* You should use 16.16 fixed floats             */</span>
<a name="l00101"></a>00101   <span class="comment">/*                                               */</span>
<a name="l00102"></a>00102   <span class="comment">/*  x' = xx*x + xy*y                             */</span>
<a name="l00103"></a>00103   <span class="comment">/*  y' = yx*x + yy*y                             */</span>
<a name="l00104"></a>00104   <span class="comment">/*                                               */</span>
<a name="l00105"></a>00105 
<a name="l00106"></a>00106   <span class="keyword">struct  </span>_TT_Matrix                       
<a name="l00107"></a>00107   {
<a name="l00108"></a>00108     TT_Fixed  xx, xy;
<a name="l00109"></a>00109     TT_Fixed  yx, yy;
<a name="l00110"></a>00110   };
<a name="l00111"></a>00111 
<a name="l00112"></a>00112   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Matrix  TT_Matrix;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 
<a name="l00115"></a>00115   <span class="comment">/* A structure used to describe the source glyph to the renderer. */</span>
<a name="l00116"></a>00116 
<a name="l00117"></a>00117   <span class="keyword">struct  </span>_TT_Outline
<a name="l00118"></a>00118   {
<a name="l00119"></a>00119     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>     contours;   <span class="comment">/* number of contours in glyph          */</span>
<a name="l00120"></a>00120     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>     points;     <span class="comment">/* number of points in the glyph        */</span>
<a name="l00121"></a>00121 
<a name="l00122"></a>00122     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*  conEnds;    <span class="comment">/* points to an array of each contour's */</span>
<a name="l00123"></a>00123                                  <span class="comment">/* start point index                    */</span>
<a name="l00124"></a>00124     TT_Pos*          xCoord;     <span class="comment">/* table of x coordinates               */</span>
<a name="l00125"></a>00125     TT_Pos*          yCoord;     <span class="comment">/* table of y coordinates               */</span>
<a name="l00126"></a>00126     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*   flag;       <span class="comment">/* table of flags                       */</span>
<a name="l00127"></a>00127 
<a name="l00128"></a>00128     <span class="comment">/* the following flag indicates that the outline owns the arrays it  */</span>
<a name="l00129"></a>00129     <span class="comment">/* refers to. Typically, this is true of outlines created from the   */</span>
<a name="l00130"></a>00130     <span class="comment">/* "TT_New_Outline" API, while it isn't for those returned by        */</span>
<a name="l00131"></a>00131     <span class="comment">/* "TT_Get_Glyph_Outline"                                            */</span>
<a name="l00132"></a>00132 
<a name="l00133"></a>00133     <span class="keywordtype">int</span>              owner;      <span class="comment">/* the outline owns the coordinates,    */</span>
<a name="l00134"></a>00134                                  <span class="comment">/* flags and contours array it uses     */</span>
<a name="l00135"></a>00135 
<a name="l00136"></a>00136     <span class="comment">/* the following flags are set automatically by TT_Get_Glyph_Outline */</span>
<a name="l00137"></a>00137     <span class="comment">/* their meaning is the following :                                  */</span>
<a name="l00138"></a>00138     <span class="comment">/*                                                                   */</span>
<a name="l00139"></a>00139     <span class="comment">/*  high_precision   when true, the scan-line converter will use     */</span>
<a name="l00140"></a>00140     <span class="comment">/*                   a higher precision to render bitmaps (i.e. a    */</span>
<a name="l00141"></a>00141     <span class="comment">/*                   1/1024 pixel precision). This is important for  */</span>
<a name="l00142"></a>00142     <span class="comment">/*                   small ppem sizes.                               */</span>
<a name="l00143"></a>00143     <span class="comment">/*                                                                   */</span>
<a name="l00144"></a>00144     <span class="comment">/*  second_pass      when true, the scan-line converter performs     */</span>
<a name="l00145"></a>00145     <span class="comment">/*                   a second sweep phase dedicated to find          */</span>
<a name="l00146"></a>00146     <span class="comment">/*                   vertical drop-outs. If false, only horizontal   */</span>
<a name="l00147"></a>00147     <span class="comment">/*                   drop-outs will be checked during the first      */</span>
<a name="l00148"></a>00148     <span class="comment">/*                   vertical sweep (yes, this is a bit confusing    */</span>
<a name="l00149"></a>00149     <span class="comment">/*                   but it's really the way it should work).        */</span>
<a name="l00150"></a>00150     <span class="comment">/*                   This is important for small ppems too.          */</span>
<a name="l00151"></a>00151     <span class="comment">/*                                                                   */</span>
<a name="l00152"></a>00152     <span class="comment">/*  dropout_mode     specifies the TrueType drop-out mode to         */</span>
<a name="l00153"></a>00153     <span class="comment">/*                   use for continuity checking. valid values       */</span>
<a name="l00154"></a>00154     <span class="comment">/*                   are 0 (no check), 1, 2, 4 and 5                 */</span>
<a name="l00155"></a>00155     <span class="comment">/*                                                                   */</span>
<a name="l00156"></a>00156     <span class="comment">/*  Most of the engine's users will safely ignore these fields..     */</span>
<a name="l00157"></a>00157     <span class="comment">/*                                                                   */</span>
<a name="l00158"></a>00158 
<a name="l00159"></a>00159     <span class="keywordtype">int</span>              high_precision;  <span class="comment">/* high precision rendering */</span>
<a name="l00160"></a>00160     <span class="keywordtype">int</span>              second_pass;     <span class="comment">/* two sweeps rendering     */</span>
<a name="l00161"></a>00161     <span class="keywordtype">char</span>             dropout_mode;    <span class="comment">/* dropout mode */</span>
<a name="l00162"></a>00162   };
<a name="l00163"></a>00163 
<a name="l00164"></a>00164   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Outline  TT_Outline;
<a name="l00165"></a>00165 
<a name="l00166"></a>00166  
<a name="l00167"></a>00167   <span class="comment">/* A structure used to describe a simple bounding box */</span>
<a name="l00168"></a>00168 
<a name="l00169"></a>00169   <span class="keyword">struct </span>_TT_BBox
<a name="l00170"></a>00170   {
<a name="l00171"></a>00171     TT_Pos  xMin;
<a name="l00172"></a>00172     TT_Pos  yMin;
<a name="l00173"></a>00173     TT_Pos  xMax;
<a name="l00174"></a>00174     TT_Pos  yMax;
<a name="l00175"></a>00175   };
<a name="l00176"></a>00176 
<a name="l00177"></a>00177   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_BBox  TT_BBox;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179   <span class="comment">/* A structure used to return glyph metrics. */</span>
<a name="l00180"></a>00180 
<a name="l00181"></a>00181   <span class="comment">/* The "bearingX" isn't called "left-side bearing" anymore because    */</span>
<a name="l00182"></a>00182   <span class="comment">/* it has different meanings depending on the glyph's orientation     */</span>
<a name="l00183"></a>00183   <span class="comment">/*                                                                    */</span>
<a name="l00184"></a>00184   <span class="comment">/* The same goes true for "bearingY", which is the top-side bearing   */</span>
<a name="l00185"></a>00185   <span class="comment">/* defined by the TT_Spec, i.e. the distance from the baseline to the */</span>
<a name="l00186"></a>00186   <span class="comment">/* top of the glyph's bbox. According to our current convention, this */</span>
<a name="l00187"></a>00187   <span class="comment">/* is always the same as "bbox.yMax" but we make it appear for        */</span>
<a name="l00188"></a>00188   <span class="comment">/* consistency in its proper field.                                   */</span>
<a name="l00189"></a>00189   <span class="comment">/*                                                                    */</span>
<a name="l00190"></a>00190   <span class="comment">/* the "advance" width is the advance width for horizontal layout,    */</span>
<a name="l00191"></a>00191   <span class="comment">/* and advance height for vertical layouts.                           */</span>
<a name="l00192"></a>00192   <span class="comment">/*                                                                    */</span>
<a name="l00193"></a>00193   <span class="comment">/* Finally, the library (1.0) doesn't support vertical text yet       */</span>
<a name="l00194"></a>00194   <span class="comment">/* but these changes were introduced to accomodate it, as it will     */</span>
<a name="l00195"></a>00195   <span class="comment">/* most certainly be introduced in later releases.                    */</span>
<a name="l00196"></a>00196   <span class="comment">/*                                                                    */</span>
<a name="l00197"></a>00197 
<a name="l00198"></a>00198   <span class="keyword">struct  </span>_TT_Glyph_Metrics
<a name="l00199"></a>00199   {
<a name="l00200"></a>00200     TT_BBox  bbox;      <span class="comment">/* glyph bounding box */</span>
<a name="l00201"></a>00201 
<a name="l00202"></a>00202     TT_Pos   bearingX;  <span class="comment">/* left-side bearing                    */</span>
<a name="l00203"></a>00203     TT_Pos   bearingY;  <span class="comment">/* top-side bearing, per se the TT spec */</span>
<a name="l00204"></a>00204 
<a name="l00205"></a>00205     TT_Pos   advance;   <span class="comment">/* advance width (or height) */</span>
<a name="l00206"></a>00206   };
<a name="l00207"></a>00207 
<a name="l00208"></a>00208   <span class="comment">/* A structure used to return horizontal _and_ vertical glyph metrics */</span>
<a name="l00209"></a>00209   <span class="comment">/*                                                                    */</span>
<a name="l00210"></a>00210   <span class="comment">/* A same glyph can be used either in a horizontal or vertical layout */</span>
<a name="l00211"></a>00211   <span class="comment">/* Its glyph metrics vary with orientation. The Big_Glyph_Metrics     */</span>
<a name="l00212"></a>00212   <span class="comment">/* is used to return _all_ metrics in one call.                       */</span>
<a name="l00213"></a>00213   <span class="comment">/*                                                                    */</span>
<a name="l00214"></a>00214   <span class="comment">/* This structure is currently unused..                               */</span>
<a name="l00215"></a>00215   <span class="comment">/*                                                                    */</span>
<a name="l00216"></a>00216 
<a name="l00217"></a>00217   <span class="keyword">struct </span>_TT_Big_Glyph_Metrics
<a name="l00218"></a>00218   {
<a name="l00219"></a>00219     TT_BBox  bbox;          <span class="comment">/* glyph bounding box */</span>
<a name="l00220"></a>00220 
<a name="l00221"></a>00221     TT_Pos   horiBearingX;  <span class="comment">/* left side bearing in horizontal layouts */</span>
<a name="l00222"></a>00222     TT_Pos   horiBearingY;  <span class="comment">/* top side bearing in horizontal layouts  */</span>
<a name="l00223"></a>00223 
<a name="l00224"></a>00224     TT_Pos   vertBearingX;  <span class="comment">/* left side bearing in vertical layouts */</span>
<a name="l00225"></a>00225     TT_Pos   vertBearingY;  <span class="comment">/* top side bearing in vertical layouts  */</span>
<a name="l00226"></a>00226 
<a name="l00227"></a>00227     TT_Pos   horiAdvance;   <span class="comment">/* advance width for horizontal layout */</span>
<a name="l00228"></a>00228     TT_Pos   vertAdvance;   <span class="comment">/* advance height for vertical layout  */</span>
<a name="l00229"></a>00229   };
<a name="l00230"></a>00230 
<a name="l00231"></a>00231   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Glyph_Metrics      TT_Glyph_Metrics;
<a name="l00232"></a>00232   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Big_Glyph_Metrics  TT_Big_Glyph_Metrics;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 
<a name="l00235"></a>00235   <span class="comment">/* A structure used to return instance metrics. */</span>
<a name="l00236"></a>00236 
<a name="l00237"></a>00237   <span class="keyword">struct  </span>_TT_Instance_Metrics
<a name="l00238"></a>00238   {
<a name="l00239"></a>00239     <span class="keywordtype">int</span>       pointSize;     <span class="comment">/* char. size in points (1pt = 1/72 inch) */</span>
<a name="l00240"></a>00240 
<a name="l00241"></a>00241     <span class="keywordtype">int</span>       x_ppem;        <span class="comment">/* horizontal pixels per EM square */</span>
<a name="l00242"></a>00242     <span class="keywordtype">int</span>       y_ppem;        <span class="comment">/* vertical pixels per EM square   */</span>
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     TT_Fixed  x_scale;       <span class="comment">/* 16.16 to convert from EM units to 26.6 pix */</span>
<a name="l00245"></a>00245     TT_Fixed  y_scale;       <span class="comment">/* 16.16 to convert from EM units to 26.6 pix */</span>
<a name="l00246"></a>00246 
<a name="l00247"></a>00247     <span class="keywordtype">int</span>       x_resolution;  <span class="comment">/* device horizontal resolution in dpi */</span>
<a name="l00248"></a>00248     <span class="keywordtype">int</span>       y_resolution;  <span class="comment">/* device vertical resolution in dpi   */</span>
<a name="l00249"></a>00249   };
<a name="l00250"></a>00250 
<a name="l00251"></a>00251   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Instance_Metrics  TT_Instance_Metrics;
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 
<a name="l00254"></a>00254   <span class="comment">/* Flow constants:                                             */</span>
<a name="l00255"></a>00255   <span class="comment">/*                                                             */</span>
<a name="l00256"></a>00256   <span class="comment">/* The flow of a bitmap refers to the way lines are oriented   */</span>
<a name="l00257"></a>00257   <span class="comment">/* within the bitmap data, i.e., the orientation of the Y      */</span>
<a name="l00258"></a>00258   <span class="comment">/* coordinate axis.                                            */</span>
<a name="l00259"></a>00259 
<a name="l00260"></a>00260   <span class="comment">/* for example, if the first bytes of the bitmap pertain to    */</span>
<a name="l00261"></a>00261   <span class="comment">/* its top-most line, then the flow is 'down'.  If these bytes */</span>
<a name="l00262"></a>00262   <span class="comment">/* pertain to its lowest line, the the flow is 'up'.           */</span>
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 <span class="preprocessor">#define TT_Flow_Down  -1  </span><span class="comment">/* bitmap is oriented from top to bottom */</span>
<a name="l00265"></a>00265 <span class="preprocessor">#define TT_Flow_Up     1  </span><span class="comment">/* bitmap is oriented from bottom to top */</span>
<a name="l00266"></a>00266 <span class="preprocessor">#define TT_Flow_Error  0  </span><span class="comment">/* an error occurred during rendering    */</span>
<a name="l00267"></a>00267 
<a name="l00268"></a>00268 
<a name="l00269"></a>00269   <span class="comment">/* A structure used to describe the target bitmap or pixmap to the   */</span>
<a name="l00270"></a>00270   <span class="comment">/* renderer.  Note that there is nothing in this structure that      */</span>
<a name="l00271"></a>00271   <span class="comment">/* gives the nature of the buffer.                                   */</span>
<a name="l00272"></a>00272 
<a name="l00273"></a>00273   <span class="comment">/* IMPORTANT NOTE:                                                   */</span>
<a name="l00274"></a>00274   <span class="comment">/*                                                                   */</span>
<a name="l00275"></a>00275   <span class="comment">/*   A pixmap's width _must_ be a multiple of 4.  Clipping           */</span>
<a name="l00276"></a>00276   <span class="comment">/*   problems will arise otherwise, if not page faults!              */</span>
<a name="l00277"></a>00277   <span class="comment">/*                                                                   */</span>
<a name="l00278"></a>00278   <span class="comment">/*   The typical settings are:                                       */</span>
<a name="l00279"></a>00279   <span class="comment">/*                                                                   */</span>
<a name="l00280"></a>00280   <span class="comment">/*   - for an WxH bitmap:                                            */</span>
<a name="l00281"></a>00281   <span class="comment">/*                                                                   */</span>
<a name="l00282"></a>00282   <span class="comment">/*       rows  = H                                                   */</span>
<a name="l00283"></a>00283   <span class="comment">/*       cols  = (W+7)/8                                             */</span>
<a name="l00284"></a>00284   <span class="comment">/*       width = W                                                   */</span>
<a name="l00285"></a>00285   <span class="comment">/*       flow  = your_choice                                         */</span>
<a name="l00286"></a>00286   <span class="comment">/*                                                                   */</span>
<a name="l00287"></a>00287   <span class="comment">/*   - for an WxH pixmap:                                            */</span>
<a name="l00288"></a>00288   <span class="comment">/*                                                                   */</span>
<a name="l00289"></a>00289   <span class="comment">/*       rows  = H                                                   */</span>
<a name="l00290"></a>00290   <span class="comment">/*       cols  = (W+3) &amp; ~3                                          */</span>
<a name="l00291"></a>00291   <span class="comment">/*       width = cols                                                */</span>
<a name="l00292"></a>00292   <span class="comment">/*       flow  = your_choice                                         */</span>
<a name="l00293"></a>00293 
<a name="l00294"></a>00294   <span class="keyword">struct  </span>_TT_Raster_Map
<a name="l00295"></a>00295   {
<a name="l00296"></a>00296     <span class="keywordtype">int</span>    rows;    <span class="comment">/* number of rows                    */</span>
<a name="l00297"></a>00297     <span class="keywordtype">int</span>    cols;    <span class="comment">/* number of columns (bytes) per row */</span>
<a name="l00298"></a>00298     <span class="keywordtype">int</span>    width;   <span class="comment">/* number of pixels per line         */</span>
<a name="l00299"></a>00299     <span class="keywordtype">int</span>    flow;    <span class="comment">/* bitmap orientation                */</span>
<a name="l00300"></a>00300 
<a name="l00301"></a>00301     <span class="keywordtype">void</span>*  bitmap;  <span class="comment">/* bit/pixmap buffer                 */</span>
<a name="l00302"></a>00302     <span class="keywordtype">long</span>   size;    <span class="comment">/* bit/pixmap size in bytes          */</span>
<a name="l00303"></a>00303   };
<a name="l00304"></a>00304 
<a name="l00305"></a>00305   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Raster_Map  TT_Raster_Map;
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 
<a name="l00309"></a>00309   <span class="comment">/* ------- The font header TrueType table structure ----- */</span>
<a name="l00310"></a>00310 
<a name="l00311"></a>00311   <span class="keyword">struct  </span>_TT_Header
<a name="l00312"></a>00312   {
<a name="l00313"></a>00313     TT_Fixed   Table_Version;
<a name="l00314"></a>00314     TT_Fixed   Font_Revision;
<a name="l00315"></a>00315 
<a name="l00316"></a>00316     TT_Long    CheckSum_Adjust;
<a name="l00317"></a>00317     TT_Long    Magic_Number;
<a name="l00318"></a>00318 
<a name="l00319"></a>00319     TT_UShort  Flags;
<a name="l00320"></a>00320     TT_UShort  Units_Per_EM;
<a name="l00321"></a>00321 
<a name="l00322"></a>00322     TT_Long    Created [2];
<a name="l00323"></a>00323     TT_Long    Modified[2];
<a name="l00324"></a>00324 
<a name="l00325"></a>00325     TT_FWord   xMin;
<a name="l00326"></a>00326     TT_FWord   yMin;
<a name="l00327"></a>00327     TT_FWord   xMax;
<a name="l00328"></a>00328     TT_FWord   yMax;
<a name="l00329"></a>00329 
<a name="l00330"></a>00330     TT_UShort  Mac_Style;
<a name="l00331"></a>00331     TT_UShort  Lowest_Rec_PPEM;
<a name="l00332"></a>00332 
<a name="l00333"></a>00333     TT_Short   Font_Direction;
<a name="l00334"></a>00334     TT_Short   Index_To_Loc_Format;
<a name="l00335"></a>00335     TT_Short   Glyph_Data_Format;
<a name="l00336"></a>00336   };
<a name="l00337"></a>00337 
<a name="l00338"></a>00338   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Header  TT_Header;
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 
<a name="l00341"></a>00341   <span class="comment">/* ------- The horizontal header TrueType table structure ----- */</span>
<a name="l00342"></a>00342 
<a name="l00343"></a>00343   <span class="keyword">struct  </span>_TT_Horizontal_Header
<a name="l00344"></a>00344   {
<a name="l00345"></a>00345     TT_Fixed   Version;
<a name="l00346"></a>00346     TT_FWord   Ascender;
<a name="l00347"></a>00347     TT_FWord   Descender;
<a name="l00348"></a>00348     TT_FWord   Line_Gap;
<a name="l00349"></a>00349 
<a name="l00350"></a>00350     TT_UFWord  advance_Width_Max;
<a name="l00351"></a>00351 
<a name="l00352"></a>00352     TT_FWord   min_Left_Side_Bearing;
<a name="l00353"></a>00353     TT_FWord   min_Right_Side_Bearing;
<a name="l00354"></a>00354     TT_FWord   xMax_Extent;
<a name="l00355"></a>00355     TT_FWord   caret_Slope_Rise;
<a name="l00356"></a>00356     TT_FWord   caret_Slope_Run;
<a name="l00357"></a>00357 
<a name="l00358"></a>00358     TT_Short   Reserved[5];
<a name="l00359"></a>00359 
<a name="l00360"></a>00360     TT_Short   metric_Data_Format;
<a name="l00361"></a>00361     TT_UShort  number_Of_HMetrics;
<a name="l00362"></a>00362   };
<a name="l00363"></a>00363 
<a name="l00364"></a>00364   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Horizontal_Header  TT_Horizontal_Header;
<a name="l00365"></a>00365 
<a name="l00366"></a>00366 
<a name="l00367"></a>00367   <span class="comment">/* ----------- OS/2 Table ----------------------------- */</span>
<a name="l00368"></a>00368 
<a name="l00369"></a>00369   <span class="keyword">struct  </span>_TT_OS2
<a name="l00370"></a>00370   {
<a name="l00371"></a>00371     TT_UShort  version;                <span class="comment">/* 0x0001 */</span>
<a name="l00372"></a>00372     TT_FWord   xAvgCharWidth;
<a name="l00373"></a>00373     TT_UShort  usWeightClass;
<a name="l00374"></a>00374     TT_UShort  usWidthClass;
<a name="l00375"></a>00375     TT_Short   fsType;
<a name="l00376"></a>00376     TT_FWord   ySubscriptXSize;
<a name="l00377"></a>00377     TT_FWord   ySubscriptYSize;
<a name="l00378"></a>00378     TT_FWord   ySubscriptXOffset;
<a name="l00379"></a>00379     TT_FWord   ySubscriptYOffset;
<a name="l00380"></a>00380     TT_FWord   ySuperscriptXSize;
<a name="l00381"></a>00381     TT_FWord   ySuperscriptYSize;
<a name="l00382"></a>00382     TT_FWord   ySuperscriptXOffset;
<a name="l00383"></a>00383     TT_FWord   ySuperscriptYOffset;
<a name="l00384"></a>00384     TT_FWord   yStrikeoutSize;
<a name="l00385"></a>00385     TT_FWord   yStrikeoutPosition;
<a name="l00386"></a>00386     TT_Short   sFamilyClass;
<a name="l00387"></a>00387 
<a name="l00388"></a>00388     <span class="keywordtype">char</span>       panose[10];
<a name="l00389"></a>00389 
<a name="l00390"></a>00390     TT_ULong   ulUnicodeRange1;        <span class="comment">/* Bits 0-31   */</span>
<a name="l00391"></a>00391     TT_ULong   ulUnicodeRange2;        <span class="comment">/* Bits 32-63  */</span>
<a name="l00392"></a>00392     TT_ULong   ulUnicodeRange3;        <span class="comment">/* Bits 64-95  */</span>
<a name="l00393"></a>00393     TT_ULong   ulUnicodeRange4;        <span class="comment">/* Bits 96-127 */</span>
<a name="l00394"></a>00394 
<a name="l00395"></a>00395     <span class="keywordtype">char</span>       achVendID[4];
<a name="l00396"></a>00396 
<a name="l00397"></a>00397     TT_UShort  fsSelection;
<a name="l00398"></a>00398     TT_UShort  usFirstCharIndex;
<a name="l00399"></a>00399     TT_UShort  usLastCharIndex;
<a name="l00400"></a>00400     TT_UShort  sTypoAscender;
<a name="l00401"></a>00401     TT_UShort  sTypoDescender;
<a name="l00402"></a>00402     TT_UShort  sTypoLineGap;
<a name="l00403"></a>00403     TT_UShort  usWinAscent;
<a name="l00404"></a>00404     TT_UShort  usWinDescent;
<a name="l00405"></a>00405 
<a name="l00406"></a>00406     <span class="comment">/* only version 1 tables: */</span>
<a name="l00407"></a>00407 
<a name="l00408"></a>00408     TT_ULong   ulCodePageRange1;       <span class="comment">/* Bits 0-31   */</span>
<a name="l00409"></a>00409     TT_ULong   ulCodePageRange2;       <span class="comment">/* Bits 32-63  */</span>
<a name="l00410"></a>00410   };
<a name="l00411"></a>00411 
<a name="l00412"></a>00412   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_OS2  TT_OS2;
<a name="l00413"></a>00413 
<a name="l00414"></a>00414 
<a name="l00415"></a>00415   <span class="comment">/* ----------- Postscript table ------------------------ */</span>
<a name="l00416"></a>00416 
<a name="l00417"></a>00417   <span class="keyword">struct  </span>_TT_Postscript
<a name="l00418"></a>00418   {
<a name="l00419"></a>00419     TT_Fixed  FormatType;
<a name="l00420"></a>00420     TT_Fixed  italicAngle;
<a name="l00421"></a>00421     TT_FWord  underlinePosition;
<a name="l00422"></a>00422     TT_FWord  underlineThickness;
<a name="l00423"></a>00423     TT_ULong  isFixedPitch;
<a name="l00424"></a>00424     TT_ULong  minMemType42;
<a name="l00425"></a>00425     TT_ULong  maxMemType42;
<a name="l00426"></a>00426     TT_ULong  minMemType1;
<a name="l00427"></a>00427     TT_ULong  maxMemType1;
<a name="l00428"></a>00428 
<a name="l00429"></a>00429     <span class="comment">/* glyph names follow in the file, but we don't */</span>
<a name="l00430"></a>00430     <span class="comment">/* load them by default.                        */</span>
<a name="l00431"></a>00431   };
<a name="l00432"></a>00432 
<a name="l00433"></a>00433   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Postscript  TT_Postscript;
<a name="l00434"></a>00434 
<a name="l00435"></a>00435 
<a name="l00436"></a>00436   <span class="comment">/* ------------ horizontal device metrics "hdmx" ---------- */</span>
<a name="l00437"></a>00437 
<a name="l00438"></a>00438   <span class="keyword">struct  </span>_TT_Hdmx_Record
<a name="l00439"></a>00439   {
<a name="l00440"></a>00440     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   ppem;
<a name="l00441"></a>00441     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   max_width;
<a name="l00442"></a>00442     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*  widths;
<a name="l00443"></a>00443   };
<a name="l00444"></a>00444 
<a name="l00445"></a>00445   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Hdmx_Record  TT_Hdmx_Record;
<a name="l00446"></a>00446 
<a name="l00447"></a>00447 
<a name="l00448"></a>00448   <span class="keyword">struct  </span>_TT_Hdmx
<a name="l00449"></a>00449   {
<a name="l00450"></a>00450     TT_UShort        version;
<a name="l00451"></a>00451     TT_Short         num_records;
<a name="l00452"></a>00452     TT_Hdmx_Record*  records;
<a name="l00453"></a>00453   };
<a name="l00454"></a>00454 
<a name="l00455"></a>00455   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Hdmx  TT_Hdmx;
<a name="l00456"></a>00456 
<a name="l00457"></a>00457 
<a name="l00458"></a>00458   <span class="comment">/* A structure used to describe face properties. */</span>
<a name="l00459"></a>00459 
<a name="l00460"></a>00460   <span class="keyword">struct  </span>_TT_Face_Properties
<a name="l00461"></a>00461   {
<a name="l00462"></a>00462     <span class="keywordtype">int</span>  num_Glyphs;   <span class="comment">/* number of glyphs in face              */</span>
<a name="l00463"></a>00463     <span class="keywordtype">int</span>  max_Points;   <span class="comment">/* maximum number of points in a glyph   */</span>
<a name="l00464"></a>00464     <span class="keywordtype">int</span>  max_Contours; <span class="comment">/* maximum number of contours in a glyph */</span>
<a name="l00465"></a>00465 
<a name="l00466"></a>00466     <span class="keywordtype">int</span>  num_Faces;    <span class="comment">/* 0 for normal TrueType files, and the  */</span>
<a name="l00467"></a>00467                        <span class="comment">/* number of embedded faces minus 1 for  */</span>
<a name="l00468"></a>00468                        <span class="comment">/* TrueType collections                  */</span>
<a name="l00469"></a>00469 
<a name="l00470"></a>00470     TT_Header*             header;        <span class="comment">/* TrueType header table      */</span>
<a name="l00471"></a>00471     TT_Horizontal_Header*  horizontal;    <span class="comment">/* TrueType horizontal header */</span>
<a name="l00472"></a>00472     TT_OS2*                os2;           <span class="comment">/* TrueType OS/2 table        */</span>
<a name="l00473"></a>00473     TT_Postscript*         postscript;    <span class="comment">/* TrueType Postscript table  */</span>
<a name="l00474"></a>00474     TT_Hdmx*               hdmx;
<a name="l00475"></a>00475   };
<a name="l00476"></a>00476 
<a name="l00477"></a>00477   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Face_Properties  TT_Face_Properties;
<a name="l00478"></a>00478 
<a name="l00479"></a>00479   <span class="comment">/* Here are the definitions of the handle types used for FreeType's */</span>
<a name="l00480"></a>00480   <span class="comment">/* most common objects accessed by the client application.  We use  */</span>
<a name="l00481"></a>00481   <span class="comment">/* a simple trick there:                                            */</span>
<a name="l00482"></a>00482   <span class="comment">/*                                                                  */</span>
<a name="l00483"></a>00483   <span class="comment">/*   Each handle type is a structure that only contains one         */</span>
<a name="l00484"></a>00484   <span class="comment">/*   pointer.  The advantage of structures is that there are        */</span>
<a name="l00485"></a>00485   <span class="comment">/*   mutually exclusive types.  We could have defined the           */</span>
<a name="l00486"></a>00486   <span class="comment">/*   following types:                                               */</span>
<a name="l00487"></a>00487   <span class="comment">/*                                                                  */</span>
<a name="l00488"></a>00488   <span class="comment">/*     typedef void*  TT_Stream;                                    */</span>
<a name="l00489"></a>00489   <span class="comment">/*     typedef void*  TT_Face;                                      */</span>
<a name="l00490"></a>00490   <span class="comment">/*     typedef void*  TT_Instance;                                  */</span>
<a name="l00491"></a>00491   <span class="comment">/*     typedef void*  TT_Glyph;                                     */</span>
<a name="l00492"></a>00492   <span class="comment">/*     typedef void*  TT_CharMap;                                   */</span>
<a name="l00493"></a>00493   <span class="comment">/*                                                                  */</span>
<a name="l00494"></a>00494   <span class="comment">/*   but these would have allowed lines like:                       */</span>
<a name="l00495"></a>00495   <span class="comment">/*                                                                  */</span>
<a name="l00496"></a>00496   <span class="comment">/*      stream = instance;                                          */</span>
<a name="l00497"></a>00497   <span class="comment">/*                                                                  */</span>
<a name="l00498"></a>00498   <span class="comment">/*   in the client code this would be a severe bug, unnoticed       */</span>
<a name="l00499"></a>00499   <span class="comment">/*   by the compiler!                                               */</span>
<a name="l00500"></a>00500   <span class="comment">/*                                                                  */</span>
<a name="l00501"></a>00501   <span class="comment">/*   Thus, we enforce type checking with a simple language          */</span>
<a name="l00502"></a>00502   <span class="comment">/*   trick...                                                       */</span>
<a name="l00503"></a>00503   <span class="comment">/*                                                                  */</span>
<a name="l00504"></a>00504   <span class="comment">/*   NOTE:  Some macros are defined in tttypes.h to perform         */</span>
<a name="l00505"></a>00505   <span class="comment">/*          automatic type conversions for library hackers...       */</span>
<a name="l00506"></a>00506   <span class="comment">/*                                                                  */</span>
<a name="l00507"></a>00507 
<a name="l00508"></a>00508   <span class="keyword">struct </span>_TT_Engine   { <span class="keywordtype">void</span>*  z; };
<a name="l00509"></a>00509   <span class="keyword">struct </span>_TT_Stream   { <span class="keywordtype">void</span>*  z; };
<a name="l00510"></a>00510   <span class="keyword">struct </span>_TT_Face     { <span class="keywordtype">void</span>*  z; };
<a name="l00511"></a>00511   <span class="keyword">struct </span>_TT_Instance { <span class="keywordtype">void</span>*  z; };
<a name="l00512"></a>00512   <span class="keyword">struct </span>_TT_Glyph    { <span class="keywordtype">void</span>*  z; };
<a name="l00513"></a>00513   <span class="keyword">struct </span>_TT_CharMap  { <span class="keywordtype">void</span>*  z; };
<a name="l00514"></a>00514 
<a name="l00515"></a>00515   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Engine    TT_Engine;    <span class="comment">/* engine instance           */</span>
<a name="l00516"></a>00516   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Stream    TT_Stream;    <span class="comment">/* stream handle type        */</span>
<a name="l00517"></a>00517   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Face      TT_Face;      <span class="comment">/* face handle type          */</span>
<a name="l00518"></a>00518   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Instance  TT_Instance;  <span class="comment">/* instance handle type      */</span>
<a name="l00519"></a>00519   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_Glyph     TT_Glyph;     <span class="comment">/* glyph handle type         */</span>
<a name="l00520"></a>00520   <span class="keyword">typedef</span> <span class="keyword">struct </span>_TT_CharMap   TT_CharMap;   <span class="comment">/* character map handle type */</span>
<a name="l00521"></a>00521 
<a name="l00522"></a>00522   <span class="keyword">typedef</span> <span class="keywordtype">int</span>  TT_Error;
<a name="l00523"></a>00523 
<a name="l00524"></a>00524   <span class="keyword">extern</span> <span class="keyword">const</span> TT_Instance   TT_Null_Instance;
<a name="l00525"></a>00525 
<a name="l00526"></a>00526   <span class="comment">/*******************************************************************/</span>
<a name="l00527"></a>00527   <span class="comment">/*                                                                 */</span>
<a name="l00528"></a>00528   <span class="comment">/*  FreeType API                                                   */</span>
<a name="l00529"></a>00529   <span class="comment">/*                                                                 */</span>
<a name="l00530"></a>00530   <span class="comment">/*  All these begin with a 'TT_' prefix.                           */</span>
<a name="l00531"></a>00531   <span class="comment">/*                                                                 */</span>
<a name="l00532"></a>00532   <span class="comment">/*  Most of them are implemented in the 'ttapi.c' source file.     */</span>
<a name="l00533"></a>00533   <span class="comment">/*                                                                 */</span>
<a name="l00534"></a>00534   <span class="comment">/*******************************************************************/</span>
<a name="l00535"></a>00535 
<a name="l00536"></a>00536   <span class="comment">/* Initialize the engine. */</span>
<a name="l00537"></a>00537 
<a name="l00538"></a>00538   TT_Error  TT_Init_FreeType( TT_Engine*  engine );
<a name="l00539"></a>00539 
<a name="l00540"></a>00540 
<a name="l00541"></a>00541   <span class="comment">/* Finalize the engine, and release all allocated objects. */</span>
<a name="l00542"></a>00542   TT_Error  TT_Done_FreeType( TT_Engine  engine );
<a name="l00543"></a>00543 
<a name="l00544"></a>00544 
<a name="l00545"></a>00545   <span class="comment">/* Set the gray level palette.  This is an array of 5 bytes used */</span>
<a name="l00546"></a>00546   <span class="comment">/* to produce the font smoothed pixmaps.  By convention:         */</span>
<a name="l00547"></a>00547   <span class="comment">/*                                                               */</span>
<a name="l00548"></a>00548   <span class="comment">/*  palette[0] = background (white)                              */</span>
<a name="l00549"></a>00549   <span class="comment">/*  palette[1] = light                                           */</span>
<a name="l00550"></a>00550   <span class="comment">/*  palette[2] = medium                                          */</span>
<a name="l00551"></a>00551   <span class="comment">/*  palette[3] = dark                                            */</span>
<a name="l00552"></a>00552   <span class="comment">/*  palette[4] = foreground (black)                              */</span>
<a name="l00553"></a>00553   <span class="comment">/*                                                               */</span>
<a name="l00554"></a>00554 
<a name="l00555"></a>00555   TT_Error  TT_Set_Raster_Gray_Palette( TT_Engine  engine, <span class="keywordtype">char</span>*  palette );
<a name="l00556"></a>00556   
<a name="l00557"></a>00557   <span class="comment">/* ----------------------- face management ----------------------- */</span>
<a name="l00558"></a>00558 
<a name="l00559"></a>00559   <span class="comment">/* Open a new TrueType font file, and returns a handle for */</span>
<a name="l00560"></a>00560   <span class="comment">/* it in variable '*face'.                                 */</span>
<a name="l00561"></a>00561 
<a name="l00562"></a>00562   <span class="comment">/* Note: the file can be either a TrueType file (*.ttf) or  */</span>
<a name="l00563"></a>00563   <span class="comment">/*       a TrueType collection (*.ttc), in this case, only  */</span>
<a name="l00564"></a>00564   <span class="comment">/*       the first face is opened.  The number of faces in  */</span>
<a name="l00565"></a>00565   <span class="comment">/*       the same collection can be obtained in the face's  */</span>
<a name="l00566"></a>00566   <span class="comment">/*       properties, through TT_Get_Face_Properties and the */</span>
<a name="l00567"></a>00567   <span class="comment">/*       'max_Faces' field.                                 */</span>
<a name="l00568"></a>00568 
<a name="l00569"></a>00569   TT_Error  TT_Open_Face( TT_Engine    engine,
<a name="l00570"></a>00570                           <span class="keyword">const</span> <span class="keywordtype">char</span>*  fontpathname,
<a name="l00571"></a>00571                           TT_Face*     face );
<a name="l00572"></a>00572 
<a name="l00573"></a>00573 
<a name="l00574"></a>00574   <span class="comment">/* Open a TrueType font file located inside a collection. */</span>
<a name="l00575"></a>00575   <span class="comment">/* The font is designed by its index in 'fontIndex'.      */</span>
<a name="l00576"></a>00576 
<a name="l00577"></a>00577   TT_Error  TT_Open_Collection( TT_Engine    engine,
<a name="l00578"></a>00578                                 <span class="keyword">const</span> <span class="keywordtype">char</span>*  collectionpathname,
<a name="l00579"></a>00579                                 <span class="keywordtype">int</span>          fontIndex,
<a name="l00580"></a>00580                                 TT_Face*     face );
<a name="l00581"></a>00581 
<a name="l00582"></a>00582 
<a name="l00583"></a>00583   <span class="comment">/* Return face properties in the 'properties' structure. */</span>
<a name="l00584"></a>00584 
<a name="l00585"></a>00585   TT_Error  TT_Get_Face_Properties( TT_Face              face,
<a name="l00586"></a>00586                                     TT_Face_Properties*  properties );
<a name="l00587"></a>00587 
<a name="l00588"></a>00588 
<a name="l00589"></a>00589   <span class="comment">/* Set a face object's generic pointer */</span>
<a name="l00590"></a>00590   TT_Error  TT_Set_Face_Pointer( TT_Face  face,
<a name="l00591"></a>00591                                  <span class="keywordtype">void</span>*    data );
<a name="l00592"></a>00592 
<a name="l00593"></a>00593   <span class="comment">/* Get a face object's geneeric pointer */</span>
<a name="l00594"></a>00594   <span class="keywordtype">void</span>*     TT_Get_Face_Pointer( TT_Face  face );
<a name="l00595"></a>00595 
<a name="l00596"></a>00596   <span class="comment">/* Close a face's file handle to save system resources. The file */</span>
<a name="l00597"></a>00597   <span class="comment">/* will be re-opened automatically on the next disk access       */</span>
<a name="l00598"></a>00598   TT_Error  TT_Flush_Face( TT_Face  face );
<a name="l00599"></a>00599 
<a name="l00600"></a>00600   <span class="comment">/* Close a given font object, destroying all associated */</span>
<a name="l00601"></a>00601   <span class="comment">/* instances.                                           */</span>
<a name="l00602"></a>00602 
<a name="l00603"></a>00603   TT_Error  TT_Close_Face( TT_Face  face );
<a name="l00604"></a>00604 
<a name="l00605"></a>00605   <span class="comment">/* Get Font or Table Data */</span>
<a name="l00606"></a>00606 
<a name="l00607"></a>00607   TT_Error  TT_Get_Font_Data( TT_Face  face,
<a name="l00608"></a>00608                               <span class="keywordtype">long</span>     tag,
<a name="l00609"></a>00609                               <span class="keywordtype">long</span>     offset,
<a name="l00610"></a>00610                               <span class="keywordtype">void</span>*    buffer,
<a name="l00611"></a>00611                               <span class="keywordtype">long</span>*    length );
<a name="l00612"></a>00612 
<a name="l00613"></a>00613   <span class="comment">/* A simply macro to build table tags from ascii chars */</span>
<a name="l00614"></a>00614 <span class="comment">/*  #define MAKE_TT_TAG( _x1, _x2, _x3, _x4 ) \</span>
<a name="l00615"></a>00615 <span class="comment">            (_x1 &lt;&lt; 24 | _x2 &lt;&lt; 16 | _x3 &lt;&lt; 8 | _x4)</span>
<a name="l00616"></a>00616 <span class="comment">*/</span>
<a name="l00617"></a>00617   <span class="comment">/* ----------------------- instance management -------------------- */</span>
<a name="l00618"></a>00618 
<a name="l00619"></a>00619   <span class="comment">/* Open a new font instance and returns an instance handle */</span>
<a name="l00620"></a>00620   <span class="comment">/* for it in '*instance'.                                  */</span>
<a name="l00621"></a>00621 
<a name="l00622"></a>00622   TT_Error  TT_New_Instance( TT_Face       face,
<a name="l00623"></a>00623                              TT_Instance*  instance );
<a name="l00624"></a>00624 
<a name="l00625"></a>00625 
<a name="l00626"></a>00626   <span class="comment">/* Set device resolution for a given instance.  The values are      */</span>
<a name="l00627"></a>00627   <span class="comment">/* given in dpi (Dots Per Inch).  Default is 96 in both directions. */</span>
<a name="l00628"></a>00628 
<a name="l00629"></a>00629   <span class="comment">/* NOTE:  y_resolution is currently ignored, and the library */</span>
<a name="l00630"></a>00630   <span class="comment">/*        assumes square pixels.                             */</span>
<a name="l00631"></a>00631 
<a name="l00632"></a>00632   TT_Error  TT_Set_Instance_Resolutions( TT_Instance  instance,
<a name="l00633"></a>00633                                          <span class="keywordtype">int</span>          x_resolution,
<a name="l00634"></a>00634                                          <span class="keywordtype">int</span>          y_resolution );
<a name="l00635"></a>00635 
<a name="l00636"></a>00636 
<a name="l00637"></a>00637   <span class="comment">/* Set the pointsize for a given instance.  Default is 10pt. */</span>
<a name="l00638"></a>00638 
<a name="l00639"></a>00639   TT_Error  TT_Set_Instance_CharSize( TT_Instance  instance,
<a name="l00640"></a>00640                                       TT_F26Dot6   charSize );
<a name="l00641"></a>00641 
<a name="l00642"></a>00642   TT_Error  TT_Set_Instance_CharSizes( TT_Instance  instance,
<a name="l00643"></a>00643                                        TT_F26Dot6   charWidth,
<a name="l00644"></a>00644                                        TT_F26Dot6   charHeight );
<a name="l00645"></a>00645 
<a name="l00646"></a>00646 <span class="preprocessor">#define TT_Set_Instance_PointSize( ins, ptsize )   \</span>
<a name="l00647"></a>00647 <span class="preprocessor">            TT_Set_Instance_CharSize( ins, ptsize*64 )</span>
<a name="l00648"></a>00648 <span class="preprocessor"></span>
<a name="l00649"></a>00649   TT_Error  TT_Set_Instance_PixelSizes( TT_Instance  instance,
<a name="l00650"></a>00650                                         <span class="keywordtype">int</span>          pixelWidth,
<a name="l00651"></a>00651                                         <span class="keywordtype">int</span>          pixelHeight,
<a name="l00652"></a>00652                                         TT_F26Dot6   pointSize );
<a name="l00653"></a>00653 
<a name="l00654"></a>00654   <span class="comment">/* We do not provide direct support for rotation or stretching  */</span>
<a name="l00655"></a>00655   <span class="comment">/* in the glyph loader. This means that you must perform these  */</span>
<a name="l00656"></a>00656   <span class="comment">/* operations yourself through TT_Transform_Outline  before     */</span>
<a name="l00657"></a>00657   <span class="comment">/* calling TT_Get_Glyph_Bitmap.  However, the loader needs to   */</span>
<a name="l00658"></a>00658   <span class="comment">/* know what kind of text you're displaying.  The following     */</span>
<a name="l00659"></a>00659   <span class="comment">/* boolean flags inform the interpreter that:                   */</span>
<a name="l00660"></a>00660   <span class="comment">/*                                                              */</span>
<a name="l00661"></a>00661   <span class="comment">/*   rotated  : the glyphs will be rotated                      */</span>
<a name="l00662"></a>00662   <span class="comment">/*   stretched: the glyphs will be stretched                    */</span>
<a name="l00663"></a>00663   <span class="comment">/*                                                              */</span>
<a name="l00664"></a>00664   <span class="comment">/* These setting only affect the hinting process!               */</span>
<a name="l00665"></a>00665   <span class="comment">/*                                                              */</span>
<a name="l00666"></a>00666   <span class="comment">/* NOTE: 'stretched' means any transform that distorts the      */</span>
<a name="l00667"></a>00667   <span class="comment">/*       glyph (including skewing and 'linear stretching')      */</span>
<a name="l00668"></a>00668   <span class="comment">/*                                                              */</span>
<a name="l00669"></a>00669 
<a name="l00670"></a>00670   TT_Error  TT_Set_Instance_Transform_Flags( TT_Instance  instance,
<a name="l00671"></a>00671                                              <span class="keywordtype">int</span>          rotated,
<a name="l00672"></a>00672                                              <span class="keywordtype">int</span>          stretched );
<a name="l00673"></a>00673 
<a name="l00674"></a>00674   <span class="comment">/* Return instance metrics in 'metrics'. */</span>
<a name="l00675"></a>00675 
<a name="l00676"></a>00676   TT_Error  TT_Get_Instance_Metrics( TT_Instance           instance,
<a name="l00677"></a>00677                                      TT_Instance_Metrics*  metrics );
<a name="l00678"></a>00678 
<a name="l00679"></a>00679 
<a name="l00680"></a>00680   <span class="comment">/* Set an instance's generic pointer */</span>
<a name="l00681"></a>00681 
<a name="l00682"></a>00682   TT_Error  TT_Set_Instance_Pointer( TT_Instance  instance,
<a name="l00683"></a>00683                                      <span class="keywordtype">void</span>*        data );
<a name="l00684"></a>00684 
<a name="l00685"></a>00685   <span class="comment">/* Get an instance's generic pointer */</span>
<a name="l00686"></a>00686 
<a name="l00687"></a>00687   <span class="keywordtype">void</span>*     TT_Get_Instance_Pointer( TT_Instance  instance );
<a name="l00688"></a>00688 
<a name="l00689"></a>00689 
<a name="l00690"></a>00690   <span class="comment">/* Close a given instance object, destroying all associated */</span>
<a name="l00691"></a>00691   <span class="comment">/* data.                                                    */</span>
<a name="l00692"></a>00692 
<a name="l00693"></a>00693   TT_Error  TT_Done_Instance( TT_Instance  instance );
<a name="l00694"></a>00694 
<a name="l00695"></a>00695 
<a name="l00696"></a>00696   <span class="comment">/* ----------------------- glyph management ----------------------- */</span>
<a name="l00697"></a>00697 
<a name="l00698"></a>00698   <span class="comment">/* Create a new glyph object related to the given 'face'. */</span>
<a name="l00699"></a>00699 
<a name="l00700"></a>00700   TT_Error  TT_New_Glyph( TT_Face    face,
<a name="l00701"></a>00701                           TT_Glyph*  glyph );
<a name="l00702"></a>00702 
<a name="l00703"></a>00703 
<a name="l00704"></a>00704   <span class="comment">/* Discard (and destroy) a given glyph object. */</span>
<a name="l00705"></a>00705 
<a name="l00706"></a>00706   TT_Error  TT_Done_Glyph( TT_Glyph  glyph );
<a name="l00707"></a>00707 
<a name="l00708"></a>00708 
<a name="l00709"></a>00709 <span class="preprocessor">#define TTLOAD_SCALE_GLYPH  1</span>
<a name="l00710"></a>00710 <span class="preprocessor"></span><span class="preprocessor">#define TTLOAD_HINT_GLYPH   2</span>
<a name="l00711"></a>00711 <span class="preprocessor"></span>
<a name="l00712"></a>00712 <span class="preprocessor">#define TTLOAD_DEFAULT  (TTLOAD_SCALE_GLYPH | TTLOAD_HINT_GLYPH)</span>
<a name="l00713"></a>00713 <span class="preprocessor"></span>
<a name="l00714"></a>00714   <span class="comment">/* load and process (scale/transform and hint) a glyph from the */</span>
<a name="l00715"></a>00715   <span class="comment">/* given 'instance'.  The glyph and instance handles must be    */</span>
<a name="l00716"></a>00716   <span class="comment">/* related to the same face object.  The glyph index can be     */</span>
<a name="l00717"></a>00717   <span class="comment">/* computed with a call to TT_Char_Index().                     */</span>
<a name="l00718"></a>00718 
<a name="l00719"></a>00719   <span class="comment">/* the 'load_flags' argument is a combination of the macros     */</span>
<a name="l00720"></a>00720   <span class="comment">/* TTLOAD_SCALE_GLYPH and TTLOAD_HINT_GLYPH.  Hinting will be   */</span>
<a name="l00721"></a>00721   <span class="comment">/* applied only if the scaling is selected.                     */</span>
<a name="l00722"></a>00722 
<a name="l00723"></a>00723   <span class="comment">/* When scaling is off (i.e. load_flags = 0), the returned      */</span>
<a name="l00724"></a>00724   <span class="comment">/* outlines are in EM square coordinates (also called FUnits),  */</span>
<a name="l00725"></a>00725   <span class="comment">/* extracted directly from the font with no hinting.            */</span>
<a name="l00726"></a>00726   <span class="comment">/* Other glyph metrics are also in FUnits.                      */</span>
<a name="l00727"></a>00727 
<a name="l00728"></a>00728   <span class="comment">/* When scaling is on, the returned outlines are in fractional  */</span>
<a name="l00729"></a>00729   <span class="comment">/* pixel units (i.e. TT_F26Dot6 = 26.6 fixed floats).           */</span>
<a name="l00730"></a>00730 
<a name="l00731"></a>00731   <span class="comment">/* NOTE:  the glyph index must be in the range 0..num_glyphs-1  */</span>
<a name="l00732"></a>00732   <span class="comment">/*        where 'num_glyphs' is the total number of glyphs in   */</span>
<a name="l00733"></a>00733   <span class="comment">/*        the font file (given in the face properties).         */</span>
<a name="l00734"></a>00734 
<a name="l00735"></a>00735   TT_Error  TT_Load_Glyph( TT_Instance  instance,
<a name="l00736"></a>00736                            TT_Glyph     glyph,
<a name="l00737"></a>00737                            <span class="keywordtype">int</span>          glyph_index,
<a name="l00738"></a>00738                            <span class="keywordtype">int</span>          load_flags );
<a name="l00739"></a>00739 
<a name="l00740"></a>00740 
<a name="l00741"></a>00741   <span class="comment">/* Return glyph outline pointers in 'outline'.  Note that the returned */</span>
<a name="l00742"></a>00742   <span class="comment">/* pointers are owned by the glyph object, and will be destroyed with  */</span>
<a name="l00743"></a>00743   <span class="comment">/* it.  The client application should _not_ change the pointers.       */</span>
<a name="l00744"></a>00744   
<a name="l00745"></a>00745   TT_Error  TT_Get_Glyph_Outline( TT_Glyph     glyph,
<a name="l00746"></a>00746                                   TT_Outline*  outline );
<a name="l00747"></a>00747 
<a name="l00748"></a>00748   <span class="comment">/* Copy the glyph metrics into 'metrics'. */</span>
<a name="l00749"></a>00749 
<a name="l00750"></a>00750   TT_Error  TT_Get_Glyph_Metrics( TT_Glyph           glyph,
<a name="l00751"></a>00751                                   TT_Glyph_Metrics*  metrics );
<a name="l00752"></a>00752 
<a name="l00753"></a>00753 
<a name="l00754"></a>00754   <span class="comment">/* Render the glyph into a bitmap, with given position offsets.     */</span>
<a name="l00755"></a>00755 
<a name="l00756"></a>00756   <span class="comment">/*  Note : Only use integer pixel offsets to preserve the fine      */</span>
<a name="l00757"></a>00757   <span class="comment">/*         hinting of the glyph and the 'correct' anti-aliasing     */</span>
<a name="l00758"></a>00758   <span class="comment">/*         (where vertical and horizontal stems aren't grayed).     */</span>
<a name="l00759"></a>00759   <span class="comment">/*         This means that x_offset and y_offset must be multiples  */</span>
<a name="l00760"></a>00760   <span class="comment">/*         of 64!                                                   */</span>
<a name="l00761"></a>00761   <span class="comment">/*                                                                  */</span>
<a name="l00762"></a>00762 
<a name="l00763"></a>00763   TT_Error  TT_Get_Glyph_Bitmap( TT_Glyph        glyph,
<a name="l00764"></a>00764                                  TT_Raster_Map*  raster_map,
<a name="l00765"></a>00765                                  TT_F26Dot6      x_offset,
<a name="l00766"></a>00766                                  TT_F26Dot6      y_offset );
<a name="l00767"></a>00767 
<a name="l00768"></a>00768 
<a name="l00769"></a>00769   <span class="comment">/* Render the glyph into a pixmap, with given position offsets.     */</span>
<a name="l00770"></a>00770 
<a name="l00771"></a>00771   <span class="comment">/*  Note : Only use integer pixel offsets to preserve the fine      */</span>
<a name="l00772"></a>00772   <span class="comment">/*         hinting of the glyph and the 'correct' anti-aliasing     */</span>
<a name="l00773"></a>00773   <span class="comment">/*         (where vertical and horizontal stems aren't grayed).     */</span>
<a name="l00774"></a>00774   <span class="comment">/*         This means that x_offset and y_offset must be multiples  */</span>
<a name="l00775"></a>00775   <span class="comment">/*         of 64!                                                   */</span>
<a name="l00776"></a>00776   <span class="comment">/*                                                                  */</span>
<a name="l00777"></a>00777 
<a name="l00778"></a>00778   TT_Error  TT_Get_Glyph_Pixmap( TT_Glyph        glyph,
<a name="l00779"></a>00779                                  TT_Raster_Map*  raster_map,
<a name="l00780"></a>00780                                  TT_F26Dot6      x_offset,
<a name="l00781"></a>00781                                  TT_F26Dot6      y_offset );
<a name="l00782"></a>00782 
<a name="l00783"></a>00783   <span class="comment">/* ----------------------- outline support ------------------------ */</span>
<a name="l00784"></a>00784 
<a name="l00785"></a>00785   <span class="comment">/* Allocate a new outline. Reserve space for 'num_points' and */</span>
<a name="l00786"></a>00786   <span class="comment">/* 'num_contours'                                             */</span>
<a name="l00787"></a>00787 
<a name="l00788"></a>00788   TT_Error  TT_New_Outline( <span class="keywordtype">int</span>          num_points,
<a name="l00789"></a>00789                             <span class="keywordtype">int</span>          num_contours,
<a name="l00790"></a>00790                             TT_Outline*  outline );
<a name="l00791"></a>00791 
<a name="l00792"></a>00792   <span class="comment">/* Release an outline */</span>
<a name="l00793"></a>00793 
<a name="l00794"></a>00794   TT_Error  TT_Done_Outline( TT_Outline*  outline );
<a name="l00795"></a>00795 
<a name="l00796"></a>00796   <span class="comment">/* Copy an outline into another one */</span>
<a name="l00797"></a>00797 
<a name="l00798"></a>00798   TT_Error  TT_Copy_Outline( TT_Outline*  source,
<a name="l00799"></a>00799                              TT_Outline*  target );
<a name="l00800"></a>00800 
<a name="l00801"></a>00801   <span class="comment">/* Render an outline into a bitmap */</span>
<a name="l00802"></a>00802 
<a name="l00803"></a>00803   TT_Error  TT_Get_Outline_Bitmap( TT_Engine       engine,
<a name="l00804"></a>00804                                    TT_Outline*     outline,
<a name="l00805"></a>00805                                    TT_Raster_Map*  raster_map );
<a name="l00806"></a>00806 
<a name="l00807"></a>00807   <span class="comment">/* Render an outline into a pixmap - note that this function uses */</span>
<a name="l00808"></a>00808   <span class="comment">/* a different pixel scale, where 1.0 pixels = 128          XXXX  */</span>
<a name="l00809"></a>00809 
<a name="l00810"></a>00810   TT_Error  TT_Get_Outline_Pixmap( TT_Engine       engine,
<a name="l00811"></a>00811                                    TT_Outline*     outline,
<a name="l00812"></a>00812                                    TT_Raster_Map*  raster_map );
<a name="l00813"></a>00813 
<a name="l00814"></a>00814   <span class="comment">/* return an outline's bounding box - this function is slow as it */</span>
<a name="l00815"></a>00815   <span class="comment">/* performs a complete scan-line process, without drawing, to get */</span>
<a name="l00816"></a>00816   <span class="comment">/* the most accurate values                                 XXXX  */</span>
<a name="l00817"></a>00817 
<a name="l00818"></a>00818   TT_Error  TT_Get_Outline_BBox( TT_Outline*  outline,
<a name="l00819"></a>00819                                  TT_BBox*     bbox );
<a name="l00820"></a>00820 
<a name="l00821"></a>00821   <span class="comment">/* Apply a transformation to a glyph outline */</span>
<a name="l00822"></a>00822 
<a name="l00823"></a>00823   <span class="keywordtype">void</span>      TT_Transform_Outline( TT_Outline*  outline,
<a name="l00824"></a>00824                                   TT_Matrix*   matrix );
<a name="l00825"></a>00825 
<a name="l00826"></a>00826   <span class="comment">/* backwards compatibility macro */</span>
<a name="l00827"></a>00827 <span class="comment">//  #define TT_Appy_Outline_Matrix  TT_Transform_Matrix;</span>
<a name="l00828"></a>00828 
<a name="l00829"></a>00829   <span class="comment">/* Apply a translation to a glyph outline */</span>
<a name="l00830"></a>00830 
<a name="l00831"></a>00831   <span class="keywordtype">void</span>      TT_Translate_Outline( TT_Outline*  outline,
<a name="l00832"></a>00832                                   TT_F26Dot6   x_offset,
<a name="l00833"></a>00833                                   TT_F26Dot6   y_offset );
<a name="l00834"></a>00834 
<a name="l00835"></a>00835   <span class="comment">/* backwards compatibility */</span>
<a name="l00836"></a>00836 <span class="comment">//  #define TT_Apply_Outline_Translation  TT_Translate_Outline</span>
<a name="l00837"></a>00837 
<a name="l00838"></a>00838   <span class="comment">/* Apply a transformation to a vector */</span>
<a name="l00839"></a>00839 
<a name="l00840"></a>00840   <span class="keywordtype">void</span>      TT_Transform_Vector( TT_F26Dot6*  x,
<a name="l00841"></a>00841                                  TT_F26Dot6*  y,
<a name="l00842"></a>00842                                  TT_Matrix*   matrix );
<a name="l00843"></a>00843   <span class="comment">/* backwards compatibility */</span>
<a name="l00844"></a>00844 <span class="comment">//  #define TT_Apply_Vector_Matrix( x, y, m )   TT_Transform_Vector( x, y, m )</span>
<a name="l00845"></a>00845 
<a name="l00846"></a>00846   <span class="comment">/* Multiply a matrix with another - computes "b := a*b" */</span>
<a name="l00847"></a>00847 
<a name="l00848"></a>00848   <span class="keywordtype">void</span>      TT_Matrix_Multiply( TT_Matrix*  a,
<a name="l00849"></a>00849                                 TT_Matrix*  b );
<a name="l00850"></a>00850                  
<a name="l00851"></a>00851   <span class="comment">/* Invert a transformation matrix */</span>
<a name="l00852"></a>00852 
<a name="l00853"></a>00853   TT_Error  TT_Matrix_Invert( TT_Matrix*  matrix );
<a name="l00854"></a>00854 
<a name="l00855"></a>00855 
<a name="l00856"></a>00856 
<a name="l00857"></a>00857   <span class="comment">/* ----------------- character mappings support ------------- */</span>
<a name="l00858"></a>00858 
<a name="l00859"></a>00859   <span class="comment">/* Return the number of character mappings found in this file. */</span>
<a name="l00860"></a>00860   <span class="comment">/* Returns -1 in case of failure (invalid face handle).        */</span>
<a name="l00861"></a>00861 
<a name="l00862"></a>00862   <span class="keywordtype">int</span>  TT_Get_CharMap_Count( TT_Face  face );
<a name="l00863"></a>00863 
<a name="l00864"></a>00864 
<a name="l00865"></a>00865   <span class="comment">/* Return the ID of charmap number 'charmapIndex' of a given face */</span>
<a name="l00866"></a>00866   <span class="comment">/* used to enumerate the charmaps present in a TrueType file.     */</span>
<a name="l00867"></a>00867 
<a name="l00868"></a>00868   TT_Error  TT_Get_CharMap_ID( TT_Face  face,
<a name="l00869"></a>00869                                <span class="keywordtype">int</span>      charmapIndex,
<a name="l00870"></a>00870                                <span class="keywordtype">short</span>*   platformID,
<a name="l00871"></a>00871                                <span class="keywordtype">short</span>*   encodingID );
<a name="l00872"></a>00872 
<a name="l00873"></a>00873 
<a name="l00874"></a>00874   <span class="comment">/* Look up the character maps found in 'face' and return a handle */</span>
<a name="l00875"></a>00875   <span class="comment">/* for the one matching 'platformID' and 'platformEncodingID'     */</span>
<a name="l00876"></a>00876   <span class="comment">/* (see the TrueType specs relating to the 'cmap' table for       */</span>
<a name="l00877"></a>00877   <span class="comment">/* information on these ID numbers).  Returns an error code.      */</span>
<a name="l00878"></a>00878   <span class="comment">/* In case of failure, the handle is set to NULL and is invalid.  */</span>
<a name="l00879"></a>00879 
<a name="l00880"></a>00880   TT_Error  TT_Get_CharMap( TT_Face      face,
<a name="l00881"></a>00881                             <span class="keywordtype">int</span>          charmapIndex,
<a name="l00882"></a>00882                             TT_CharMap*  charMap );
<a name="l00883"></a>00883 
<a name="l00884"></a>00884 
<a name="l00885"></a>00885   <span class="comment">/* Translate a character code through a given character map   */</span>
<a name="l00886"></a>00886   <span class="comment">/* and return the corresponding glyph index to be used in     */</span>
<a name="l00887"></a>00887   <span class="comment">/* a TT_Load_Glyph call.  This function returns -1 in case of */</span>
<a name="l00888"></a>00888   <span class="comment">/* failure.                                                   */</span>
<a name="l00889"></a>00889 
<a name="l00890"></a>00890   <span class="keywordtype">int</span>  TT_Char_Index( TT_CharMap      charMap,
<a name="l00891"></a>00891                       <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  charCode );
<a name="l00892"></a>00892 
<a name="l00893"></a>00893 
<a name="l00894"></a>00894 
<a name="l00895"></a>00895   <span class="comment">/* --------------------- names table support ------------------- */</span>
<a name="l00896"></a>00896 
<a name="l00897"></a>00897   <span class="comment">/* Return the number of name strings found in the name table. */</span>
<a name="l00898"></a>00898   <span class="comment">/* Returns -1 in case of failure (invalid face handle).       */</span>
<a name="l00899"></a>00899 
<a name="l00900"></a>00900   <span class="keywordtype">int</span>  TT_Get_Name_Count( TT_Face  face );
<a name="l00901"></a>00901 
<a name="l00902"></a>00902 
<a name="l00903"></a>00903   <span class="comment">/* Return the ID of the name number 'nameIndex' of a given face */</span>
<a name="l00904"></a>00904   <span class="comment">/* used to enumerate the charmaps present in a TrueType file.   */</span>
<a name="l00905"></a>00905 
<a name="l00906"></a>00906   TT_Error  TT_Get_Name_ID( TT_Face  face,
<a name="l00907"></a>00907                             <span class="keywordtype">int</span>      nameIndex,
<a name="l00908"></a>00908                             <span class="keywordtype">short</span>*   platformID,
<a name="l00909"></a>00909                             <span class="keywordtype">short</span>*   encodingID,
<a name="l00910"></a>00910                             <span class="keywordtype">short</span>*   languageID,
<a name="l00911"></a>00911                             <span class="keywordtype">short</span>*   nameID );
<a name="l00912"></a>00912 
<a name="l00913"></a>00913 
<a name="l00914"></a>00914   <span class="comment">/* Return the address and length of the name number 'nameIndex' */</span>
<a name="l00915"></a>00915   <span class="comment">/* of a given face.  The string is part of the face object and  */</span>
<a name="l00916"></a>00916   <span class="comment">/* shouldn't be written to or released.                         */</span>
<a name="l00917"></a>00917 
<a name="l00918"></a>00918   <span class="comment">/* Note that if the string platformID is not in the range 0..3, */</span>
<a name="l00919"></a>00919   <span class="comment">/* a null pointer will be returned                              */</span>
<a name="l00920"></a>00920 
<a name="l00921"></a>00921   TT_Error  TT_Get_Name_String( TT_Face  face,
<a name="l00922"></a>00922                                 <span class="keywordtype">int</span>      nameIndex,
<a name="l00923"></a>00923                                 <span class="keywordtype">char</span>**   stringPtr, <span class="comment">/* pointer address     */</span>
<a name="l00924"></a>00924                                 <span class="keywordtype">int</span>*     length );  <span class="comment">/* str. length address */</span>
<a name="l00925"></a>00925 
<a name="l00926"></a>00926 
<a name="l00927"></a>00927 
<a name="l00928"></a>00928   <span class="comment">/************************ callback definition ******************/</span>
<a name="l00929"></a>00929 
<a name="l00930"></a>00930   <span class="comment">/* NOTE : Callbacks are still in beta stage, they'll be used to */</span>
<a name="l00931"></a>00931   <span class="comment">/*        perform efficient glyph outline caching.              */</span>
<a name="l00932"></a>00932 
<a name="l00933"></a>00933   <span class="comment">/* There is currently only one callback defined */</span>
<a name="l00934"></a>00934 <span class="preprocessor">#define  TT_Callback_Glyph_Outline_Load  0</span>
<a name="l00935"></a>00935 <span class="preprocessor"></span>
<a name="l00936"></a>00936   <span class="comment">/* The glyph loader callback type defines a function that will */</span>
<a name="l00937"></a>00937   <span class="comment">/* be called by the TrueType glyph loader to query an already  */</span>
<a name="l00938"></a>00938   <span class="comment">/* cached glyph outline from higher-level libraries. Normal    */</span>
<a name="l00939"></a>00939   <span class="comment">/* clients of the TrueType engine shouldn't worry about this   */</span>
<a name="l00940"></a>00940 
<a name="l00941"></a>00941   <span class="keyword">typedef</span>  int (*TT_Glyph_Loader_Callback)( <span class="keywordtype">void</span>*        instance_ptr,
<a name="l00942"></a>00942                                             <span class="keywordtype">int</span>          glyph_index,
<a name="l00943"></a>00943                                             TT_Outline*  outline,
<a name="l00944"></a>00944                                             TT_F26Dot6*  lsb,
<a name="l00945"></a>00945                                             TT_F26Dot6*  aw );
<a name="l00946"></a>00946 
<a name="l00947"></a>00947   <span class="comment">/* Register a new callback to the TrueType engine - this should */</span>
<a name="l00948"></a>00948   <span class="comment">/* only be used by higher-level libraries, not typical clients  */</span>
<a name="l00949"></a>00949 
<a name="l00950"></a>00950   TT_Error  TT_Register_Callback( TT_Engine  engine,
<a name="l00951"></a>00951                                   <span class="keywordtype">int</span>        callback_id,
<a name="l00952"></a>00952                                   <span class="keywordtype">void</span>*      callback_ptr );
<a name="l00953"></a>00953 
<a name="l00954"></a>00954   <span class="comment">/************************ error codes declaration **************/</span>
<a name="l00955"></a>00955   
<a name="l00956"></a>00956   <span class="comment">/* The error codes are grouped in 'classes' used to indicate the */</span>
<a name="l00957"></a>00957   <span class="comment">/* 'level' at which the error happened.                          */</span>
<a name="l00958"></a>00958   <span class="comment">/* The class is given by an error code's high byte.              */</span>
<a name="l00959"></a>00959 
<a name="l00960"></a>00960 
<a name="l00961"></a>00961   <span class="comment">/* ------------- Success is always 0 -------- */</span>
<a name="l00962"></a>00962 
<a name="l00963"></a>00963 <span class="preprocessor">#define TT_Err_Ok                       0</span>
<a name="l00964"></a>00964 <span class="preprocessor"></span>
<a name="l00965"></a>00965   
<a name="l00966"></a>00966   <span class="comment">/* -------- High-level API error codes ------ */</span>
<a name="l00967"></a>00967   
<a name="l00968"></a>00968 <span class="preprocessor">#define TT_Err_Invalid_Face_Handle      0x001</span>
<a name="l00969"></a>00969 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Instance_Handle  0x002</span>
<a name="l00970"></a>00970 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Glyph_Handle     0x003</span>
<a name="l00971"></a>00971 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_CharMap_Handle   0x004</span>
<a name="l00972"></a>00972 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Result_Address   0x005</span>
<a name="l00973"></a>00973 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Glyph_Index      0x006</span>
<a name="l00974"></a>00974 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Argument         0x007</span>
<a name="l00975"></a>00975 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Could_Not_Open_File      0x008</span>
<a name="l00976"></a>00976 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_File_Is_Not_Collection   0x009</span>
<a name="l00977"></a>00977 <span class="preprocessor"></span>  
<a name="l00978"></a>00978 <span class="preprocessor">#define TT_Err_Table_Missing            0x00A</span>
<a name="l00979"></a>00979 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Horiz_Metrics    0x00B</span>
<a name="l00980"></a>00980 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_CharMap_Format   0x00C</span>
<a name="l00981"></a>00981 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_PPem             0x00D</span>
<a name="l00982"></a>00982 <span class="preprocessor"></span>
<a name="l00983"></a>00983 <span class="preprocessor">#define TT_Err_Invalid_File_Format      0x010</span>
<a name="l00984"></a>00984 <span class="preprocessor"></span>
<a name="l00985"></a>00985 <span class="preprocessor">#define TT_Err_Invalid_Engine           0x020</span>
<a name="l00986"></a>00986 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Too_Many_Extensions      0x021</span>
<a name="l00987"></a>00987 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Extensions_Unsupported   0x022</span>
<a name="l00988"></a>00988 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Extension_Id     0x023</span>
<a name="l00989"></a>00989 <span class="preprocessor"></span>
<a name="l00990"></a>00990 <span class="preprocessor">#define TT_Err_Max_Profile_Missing      0x080</span>
<a name="l00991"></a>00991 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Header_Table_Missing     0x081</span>
<a name="l00992"></a>00992 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Horiz_Header_Missing     0x082</span>
<a name="l00993"></a>00993 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Locations_Missing        0x083</span>
<a name="l00994"></a>00994 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Name_Table_Missing       0x084</span>
<a name="l00995"></a>00995 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_CMap_Table_Missing       0x085</span>
<a name="l00996"></a>00996 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Hmtx_Table_Missing       0x086</span>
<a name="l00997"></a>00997 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_OS2_Table_Missing        0x087</span>
<a name="l00998"></a>00998 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Post_Table_Missing       0x088</span>
<a name="l00999"></a>00999 <span class="preprocessor"></span>
<a name="l01000"></a>01000   
<a name="l01001"></a>01001   <span class="comment">/* -------- Memory component error codes ---- */</span>
<a name="l01002"></a>01002 
<a name="l01003"></a>01003   <span class="comment">/* this error indicates that an operation cannot */</span>
<a name="l01004"></a>01004   <span class="comment">/* be performed due to memory exhaustion.        */</span>
<a name="l01005"></a>01005 
<a name="l01006"></a>01006 <span class="preprocessor">#define TT_Err_Out_Of_Memory            0x100</span>
<a name="l01007"></a>01007 <span class="preprocessor"></span>
<a name="l01008"></a>01008   
<a name="l01009"></a>01009   <span class="comment">/* -------- File component error codes ------ */</span>
<a name="l01010"></a>01010   
<a name="l01011"></a>01011   <span class="comment">/* these error codes indicate that the file could */</span>
<a name="l01012"></a>01012   <span class="comment">/* not be accessed properly.  Usually, this means */</span>
<a name="l01013"></a>01013   <span class="comment">/* a broken font file!                            */</span>
<a name="l01014"></a>01014 
<a name="l01015"></a>01015 <span class="preprocessor">#define TT_Err_Invalid_File_Offset      0x200</span>
<a name="l01016"></a>01016 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_File_Read        0x201</span>
<a name="l01017"></a>01017 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Frame_Access     0x202</span>
<a name="l01018"></a>01018 <span class="preprocessor"></span>
<a name="l01019"></a>01019   
<a name="l01020"></a>01020   <span class="comment">/* -------- Glyph loader error codes -------- */</span>
<a name="l01021"></a>01021   
<a name="l01022"></a>01022   <span class="comment">/* Produced only by the glyph loader, these error */</span>
<a name="l01023"></a>01023   <span class="comment">/* codes indicate a broken glyph in a font file.  */</span>
<a name="l01024"></a>01024 
<a name="l01025"></a>01025 <span class="preprocessor">#define TT_Err_Too_Many_Points          0x300</span>
<a name="l01026"></a>01026 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Too_Many_Contours        0x301</span>
<a name="l01027"></a>01027 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Composite        0x302</span>
<a name="l01028"></a>01028 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Too_Many_Ins             0x303</span>
<a name="l01029"></a>01029 <span class="preprocessor"></span>
<a name="l01030"></a>01030   
<a name="l01031"></a>01031   <span class="comment">/* --- bytecode interpreter error codes ----- */</span>
<a name="l01032"></a>01032   
<a name="l01033"></a>01033   <span class="comment">/* These error codes are produced by the TrueType */</span>
<a name="l01034"></a>01034   <span class="comment">/* bytecode interpreter.  They usually indicate a */</span>
<a name="l01035"></a>01035   <span class="comment">/* broken font file, a broken glyph within a font */</span>
<a name="l01036"></a>01036   <span class="comment">/* file, or a bug in the interpreter!             */</span>
<a name="l01037"></a>01037 
<a name="l01038"></a>01038 <span class="preprocessor">#define TT_Err_Invalid_Opcode           0x400</span>
<a name="l01039"></a>01039 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Too_Few_Arguments        0x401</span>
<a name="l01040"></a>01040 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Stack_Overflow           0x402</span>
<a name="l01041"></a>01041 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Code_Overflow            0x403</span>
<a name="l01042"></a>01042 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Bad_Argument             0x404</span>
<a name="l01043"></a>01043 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Divide_By_Zero           0x405</span>
<a name="l01044"></a>01044 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Storage_Overflow         0x406</span>
<a name="l01045"></a>01045 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Cvt_Overflow             0x407</span>
<a name="l01046"></a>01046 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Reference        0x408</span>
<a name="l01047"></a>01047 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Distance         0x409</span>
<a name="l01048"></a>01048 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Interpolate_Twilight     0x40A</span>
<a name="l01049"></a>01049 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Debug_OpCode             0x40B</span>
<a name="l01050"></a>01050 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_ENDF_In_Exec_Stream      0x40C</span>
<a name="l01051"></a>01051 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Out_Of_CodeRanges        0x40D</span>
<a name="l01052"></a>01052 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Nested_DEFS              0x40E </span>
<a name="l01053"></a>01053 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_CodeRange        0x40F</span>
<a name="l01054"></a>01054 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Displacement     0x410</span>
<a name="l01055"></a>01055 <span class="preprocessor"></span>
<a name="l01056"></a>01056 
<a name="l01057"></a>01057   <span class="comment">/* ------ internal failure error codes ----- */</span>
<a name="l01058"></a>01058 
<a name="l01059"></a>01059   <span class="comment">/* These error codes are produced when an incoherent */</span>
<a name="l01060"></a>01060   <span class="comment">/* library state has been detected.  These reflect a */</span>
<a name="l01061"></a>01061   <span class="comment">/* severe bug in the engine! (or a major overwrite   */</span>
<a name="l01062"></a>01062   <span class="comment">/* of your application into the library's data).     */</span>
<a name="l01063"></a>01063   
<a name="l01064"></a>01064 <span class="preprocessor">#define TT_Err_Nested_Frame_Access      0x500</span>
<a name="l01065"></a>01065 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Invalid_Cache_List       0x501</span>
<a name="l01066"></a>01066 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Could_Not_Find_Context   0x502</span>
<a name="l01067"></a>01067 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Unlisted_Object          0x503</span>
<a name="l01068"></a>01068 <span class="preprocessor"></span>
<a name="l01069"></a>01069   
<a name="l01070"></a>01070   <span class="comment">/* ---- scan-line converter error codes ----- */</span>
<a name="l01071"></a>01071   
<a name="l01072"></a>01072   <span class="comment">/* These error codes are produced by the raster component.  */</span>
<a name="l01073"></a>01073   <span class="comment">/* They indicate that an outline structure was incoherently */</span>
<a name="l01074"></a>01074   <span class="comment">/* setup, or that you're trying to render an horribly       */</span>
<a name="l01075"></a>01075   <span class="comment">/* complex glyph!                                           */</span>
<a name="l01076"></a>01076 
<a name="l01077"></a>01077 <span class="preprocessor">#define TT_Err_Raster_Pool_Overflow     0x600</span>
<a name="l01078"></a>01078 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Raster_Negative_Height   0x601</span>
<a name="l01079"></a>01079 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Raster_Invalid_Value     0x602</span>
<a name="l01080"></a>01080 <span class="preprocessor"></span><span class="preprocessor">#define TT_Err_Raster_Not_Initialized   0x603</span>
<a name="l01081"></a>01081 <span class="preprocessor"></span>  
<a name="l01082"></a>01082 
<a name="l01083"></a>01083 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l01084"></a>01084 <span class="preprocessor"></span>  }
<a name="l01085"></a>01085 <span class="preprocessor">#endif</span>
<a name="l01086"></a>01086 <span class="preprocessor"></span>
<a name="l01087"></a>01087 <span class="preprocessor">#endif </span><span class="comment">/* _FREETYPE_ */</span>
<a name="l01088"></a>01088 
<a name="l01089"></a>01089 
<a name="l01090"></a>01090 <span class="comment">/* END */</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Aug 13 14:56:17 2009 for Robostacker by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
