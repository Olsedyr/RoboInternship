STATEMACHINEVERSION 3
Name=PreCW1
Output=motor "PreCW 1 Motor"
Link=master checkWeigherPrevS3
Timeout=timeRunAgain 0
Timeout=timeStop 0

State=ST_TIMER
END

State=ST_HALT
END

State=ST_IDLE
  SET motor 0
  TEST master = ST_GO
    SETSTATE ST_RESET
  ENDTEST
END

State=ST_RESET
  SETSTATE ST_RUN
END

State=ST_RUN
  TEST master = ST_GO
  OR master = ST_GOSTOP
    SET motor 1
  ELSE
    TIMEOUT timeStop ST_GOSTOP
    SETSTATE ST_GOSTOP
  ENDTEST
END

State=ST_GOSTOP
  TEST timeStop = 1
    SETSTATE ST_STOP
  ENDTEST
END

State=ST_STOP
  TEST master = ST_GO
    TIMEOUT timeRunAgain ST_RUN
    SETSTATE ST_TIMER
  ELSE
    SET motor 0
  ENDTEST
END
